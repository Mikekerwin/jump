{"ast":null,"code":"var _jsxFileName = \"/Users/OCSAdmin/Projects/geminiTut/my-react-app/src/App.tsx\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect, useState } from 'react';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BALL_SIZE = 80;\nconst HITBOX_SIZE = BALL_SIZE + 20;\nconst GRAVITY = 1.2;\nconst ENERGY_LOSS = 0.7;\nconst BOOST = 24;\nconst LASER_WIDTH = 25;\nconst LASER_HEIGHT = 1;\nconst LASER_SPEED = 12;\nconst App = () => {\n  _s();\n  const [score, setScore] = useState(0);\n  const scoreRef = useRef(0);\n  const sphereRef = useRef(null);\n  const laserRef = useRef(null);\n  const centerY = useRef(window.innerHeight / 2 - HITBOX_SIZE / 2);\n  const spherePos = useRef({\n    x: window.innerWidth / 2 - BALL_SIZE / 2,\n    y: centerY.current\n  });\n  const sphereVelocity = useRef(0);\n  const laserPos = useRef({\n    x: window.innerWidth,\n    y: centerY.current - 20\n  });\n  const hasJumped = useRef(false);\n  const laserHit = useRef(false);\n  const scored = useRef(false);\n\n  // Sync score every 200ms\n  useEffect(() => {\n    const interval = setInterval(() => setScore(scoreRef.current), 200);\n    return () => clearInterval(interval);\n  }, []);\n  const handleClick = () => {\n    sphereVelocity.current = BOOST;\n    hasJumped.current = true;\n    scored.current = false;\n  };\n\n  // Animation loop\n  useEffect(() => {\n    const loop = () => {\n      const s = spherePos.current;\n      const l = laserPos.current;\n\n      // Ball physics\n      sphereVelocity.current -= GRAVITY;\n      s.y -= sphereVelocity.current;\n      if (s.y < 0) {\n        s.y = 0;\n        sphereVelocity.current = -sphereVelocity.current * ENERGY_LOSS;\n      }\n      if (s.y > centerY.current) {\n        s.y = centerY.current;\n        sphereVelocity.current = -sphereVelocity.current * ENERGY_LOSS;\n        if (Math.abs(sphereVelocity.current) < 1.5) {\n          sphereVelocity.current = 0;\n          hasJumped.current = false;\n          scored.current = false;\n        }\n      }\n\n      // Laser physics\n      l.x -= LASER_SPEED;\n\n      // Collision detection\n      if (!laserHit.current && s.x + BALL_SIZE > l.x && s.x < l.x + LASER_WIDTH && s.y + BALL_SIZE > l.y && s.y < l.y + LASER_HEIGHT) {\n        var _sphereRef$current, _sphereRef$current2;\n        laserHit.current = true;\n        (_sphereRef$current = sphereRef.current) === null || _sphereRef$current === void 0 ? void 0 : _sphereRef$current.classList.add('hit');\n        (_sphereRef$current2 = sphereRef.current) === null || _sphereRef$current2 === void 0 ? void 0 : _sphereRef$current2.classList.remove('normal');\n      }\n\n      // Scoring\n      if (hasJumped.current && !laserHit.current && !scored.current && l.x + LASER_WIDTH < s.x) {\n        scoreRef.current += 1;\n        scored.current = true;\n      }\n\n      // Reset laser\n      if (l.x + LASER_WIDTH < 0) {\n        var _sphereRef$current3, _sphereRef$current4;\n        l.x = window.innerWidth;\n        laserHit.current = false;\n        scored.current = false;\n        (_sphereRef$current3 = sphereRef.current) === null || _sphereRef$current3 === void 0 ? void 0 : _sphereRef$current3.classList.add('normal');\n        (_sphereRef$current4 = sphereRef.current) === null || _sphereRef$current4 === void 0 ? void 0 : _sphereRef$current4.classList.remove('hit');\n      }\n\n      // Apply positions\n      sphereRef.current.style.transform = `translate3d(${s.x}px, ${s.y}px, 0)`;\n      laserRef.current.style.transform = `translate3d(${l.x}px, ${l.y}px, 0)`;\n      requestAnimationFrame(loop);\n    };\n    requestAnimationFrame(loop);\n  }, []);\n\n  // Handle resize\n  useEffect(() => {\n    const handleResize = () => {\n      centerY.current = window.innerHeight / 2 - HITBOX_SIZE / 2;\n      spherePos.current.y = centerY.current;\n      laserPos.current.y = centerY.current - 20;\n    };\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: 'fixed',\n      inset: 0,\n      overflow: 'hidden'\n    },\n    onClick: handleClick,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        top: 20,\n        width: '100%',\n        textAlign: 'center',\n        fontSize: '2rem',\n        fontWeight: 'bold'\n      },\n      children: [\"Score: \", score]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: sphereRef,\n      className: \"sphere normal\",\n      style: {\n        position: 'absolute',\n        width: `${BALL_SIZE}px`,\n        height: `${BALL_SIZE}px`,\n        borderRadius: '50%',\n        willChange: 'transform, background'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: laserRef,\n      style: {\n        position: 'absolute',\n        width: `${LASER_WIDTH}px`,\n        height: `${LASER_HEIGHT}px`,\n        backgroundColor: 'red'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 118,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"QrsGilV7pI9DuFf1sUlunriCNqM=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useRef","useEffect","useState","jsxDEV","_jsxDEV","BALL_SIZE","HITBOX_SIZE","GRAVITY","ENERGY_LOSS","BOOST","LASER_WIDTH","LASER_HEIGHT","LASER_SPEED","App","_s","score","setScore","scoreRef","sphereRef","laserRef","centerY","window","innerHeight","spherePos","x","innerWidth","y","current","sphereVelocity","laserPos","hasJumped","laserHit","scored","interval","setInterval","clearInterval","handleClick","loop","s","l","Math","abs","_sphereRef$current","_sphereRef$current2","classList","add","remove","_sphereRef$current3","_sphereRef$current4","style","transform","requestAnimationFrame","handleResize","addEventListener","removeEventListener","position","inset","overflow","onClick","children","top","width","textAlign","fontSize","fontWeight","fileName","_jsxFileName","lineNumber","columnNumber","ref","className","height","borderRadius","willChange","backgroundColor","_c","$RefreshReg$"],"sources":["/Users/OCSAdmin/Projects/geminiTut/my-react-app/src/App.tsx"],"sourcesContent":["import React, { useRef, useEffect, useState } from 'react';\nimport './App.css';\n\nconst BALL_SIZE = 80;\nconst HITBOX_SIZE = BALL_SIZE + 20;\nconst GRAVITY = 1.2;\nconst ENERGY_LOSS = 0.7;\nconst BOOST = 24;\nconst LASER_WIDTH = 25;\nconst LASER_HEIGHT = 1;\nconst LASER_SPEED = 12;\n\nconst App: React.FC = () => {\n  const [score, setScore] = useState(0);\n  const scoreRef = useRef(0);\n\n  const sphereRef = useRef<HTMLDivElement>(null);\n  const laserRef = useRef<HTMLDivElement>(null);\n\n  const centerY = useRef(window.innerHeight / 2 - HITBOX_SIZE / 2);\n  const spherePos = useRef({ x: window.innerWidth / 2 - BALL_SIZE / 2, y: centerY.current });\n  const sphereVelocity = useRef(0);\n  const laserPos = useRef({ x: window.innerWidth, y: centerY.current - 20 });\n\n  const hasJumped = useRef(false);\n  const laserHit = useRef(false);\n  const scored = useRef(false);\n\n  // Sync score every 200ms\n  useEffect(() => {\n    const interval = setInterval(() => setScore(scoreRef.current), 200);\n    return () => clearInterval(interval);\n  }, []);\n\n  const handleClick = () => {\n    sphereVelocity.current = BOOST;\n    hasJumped.current = true;\n    scored.current = false;\n  };\n\n  // Animation loop\n  useEffect(() => {\n    const loop = () => {\n      const s = spherePos.current;\n      const l = laserPos.current;\n\n      // Ball physics\n      sphereVelocity.current -= GRAVITY;\n      s.y -= sphereVelocity.current;\n\n      if (s.y < 0) {\n        s.y = 0;\n        sphereVelocity.current = -sphereVelocity.current * ENERGY_LOSS;\n      }\n\n      if (s.y > centerY.current) {\n        s.y = centerY.current;\n        sphereVelocity.current = -sphereVelocity.current * ENERGY_LOSS;\n        if (Math.abs(sphereVelocity.current) < 1.5) {\n          sphereVelocity.current = 0;\n          hasJumped.current = false;\n          scored.current = false;\n        }\n      }\n\n      // Laser physics\n      l.x -= LASER_SPEED;\n\n      // Collision detection\n      if (\n        !laserHit.current &&\n        s.x + BALL_SIZE > l.x &&\n        s.x < l.x + LASER_WIDTH &&\n        s.y + BALL_SIZE > l.y &&\n        s.y < l.y + LASER_HEIGHT\n      ) {\n        laserHit.current = true;\n        sphereRef.current?.classList.add('hit');\n        sphereRef.current?.classList.remove('normal');\n      }\n\n      // Scoring\n      if (hasJumped.current && !laserHit.current && !scored.current && l.x + LASER_WIDTH < s.x) {\n        scoreRef.current += 1;\n        scored.current = true;\n      }\n\n      // Reset laser\n      if (l.x + LASER_WIDTH < 0) {\n        l.x = window.innerWidth;\n        laserHit.current = false;\n        scored.current = false;\n        sphereRef.current?.classList.add('normal');\n        sphereRef.current?.classList.remove('hit');\n      }\n\n      // Apply positions\n      sphereRef.current!.style.transform = `translate3d(${s.x}px, ${s.y}px, 0)`;\n      laserRef.current!.style.transform = `translate3d(${l.x}px, ${l.y}px, 0)`;\n\n      requestAnimationFrame(loop);\n    };\n    requestAnimationFrame(loop);\n  }, []);\n\n  // Handle resize\n  useEffect(() => {\n    const handleResize = () => {\n      centerY.current = window.innerHeight / 2 - HITBOX_SIZE / 2;\n      spherePos.current.y = centerY.current;\n      laserPos.current.y = centerY.current - 20;\n    };\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  return (\n    <div style={{ position: 'fixed', inset: 0, overflow: 'hidden' }} onClick={handleClick}>\n      <div style={{ position: 'absolute', top: 20, width: '100%', textAlign: 'center', fontSize: '2rem', fontWeight: 'bold' }}>\n        Score: {score}\n      </div>\n      <div\n        ref={sphereRef}\n        className=\"sphere normal\"\n        style={{\n          position: 'absolute',\n          width: `${BALL_SIZE}px`,\n          height: `${BALL_SIZE}px`,\n          borderRadius: '50%',\n          willChange: 'transform, background',\n        }}\n      />\n      <div\n        ref={laserRef}\n        style={{\n          position: 'absolute',\n          width: `${LASER_WIDTH}px`,\n          height: `${LASER_HEIGHT}px`,\n          backgroundColor: 'red',\n        }}\n      />\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}