{"ast":null,"code":"/**\n * Background Stars System\n * Handles starfield animation and rendering\n */import{NUM_STARS,STAR_SPEED,BACKGROUND_OVERLAY_GRADIENT_START,BACKGROUND_OVERLAY_GRADIENT_END}from'../config/gameConfig';export class BackgroundStars{constructor(screenWidth,screenHeight){this.stars=[];this.screenWidth=void 0;this.screenHeight=void 0;this.screenWidth=screenWidth;this.screenHeight=screenHeight;this.initializeStars();}/**\n   * Initialize random star positions\n   */initializeStars(){this.stars=Array.from({length:NUM_STARS}).map(()=>({x:Math.random()*this.screenWidth,y:Math.random()*this.screenHeight,r:Math.random()*1.5+0.5// radius between 0.5 and 2\n}));}/**\n   * Update star positions\n   */update(){this.stars.forEach(star=>{star.x-=STAR_SPEED;// Wrap around when star goes off screen\nif(star.x<0){star.x=this.screenWidth;}});}/**\n   * Render stars to canvas with gradient background overlay\n   */render(ctx){// Create gradient from bottom to top\nconst gradient=ctx.createLinearGradient(0,this.screenHeight,0,0);gradient.addColorStop(0,BACKGROUND_OVERLAY_GRADIENT_START);// Bottom\ngradient.addColorStop(1,BACKGROUND_OVERLAY_GRADIENT_END);// Top\n// Apply gradient overlay (semi-transparent filter over scrolling background)\nctx.fillStyle=gradient;ctx.fillRect(0,0,this.screenWidth,this.screenHeight);// Draw all stars on top of overlay\nthis.stars.forEach(star=>{ctx.beginPath();ctx.arc(star.x,star.y,star.r,0,Math.PI*2);ctx.fillStyle='white';ctx.fill();});}/**\n   * Reset stars to random positions\n   */reset(){this.stars.forEach(star=>{star.x=Math.random()*this.screenWidth;});}/**\n   * Update dimensions (for window resize)\n   */updateDimensions(screenWidth,screenHeight){this.screenWidth=screenWidth;this.screenHeight=screenHeight;// Reposition stars that are now out of bounds\nthis.stars.forEach(star=>{if(star.y>screenHeight){star.y=Math.random()*screenHeight;}if(star.x>screenWidth){star.x=Math.random()*screenWidth;}});}/**\n   * Get all stars (for debugging or external rendering)\n   */getStars(){return this.stars;}}","map":{"version":3,"names":["NUM_STARS","STAR_SPEED","BACKGROUND_OVERLAY_GRADIENT_START","BACKGROUND_OVERLAY_GRADIENT_END","BackgroundStars","constructor","screenWidth","screenHeight","stars","initializeStars","Array","from","length","map","x","Math","random","y","r","update","forEach","star","render","ctx","gradient","createLinearGradient","addColorStop","fillStyle","fillRect","beginPath","arc","PI","fill","reset","updateDimensions","getStars"],"sources":["/Users/OCSAdmin/Projects/geminiTut/my-react-app/src/systems/backgroundStars.ts"],"sourcesContent":["/**\n * Background Stars System\n * Handles starfield animation and rendering\n */\n\nimport { Star } from '../types/game';\nimport { NUM_STARS, STAR_SPEED, BACKGROUND_OVERLAY_GRADIENT_START, BACKGROUND_OVERLAY_GRADIENT_END } from '../config/gameConfig';\n\nexport class BackgroundStars {\n  private stars: Star[] = [];\n  private screenWidth: number;\n  private screenHeight: number;\n\n  constructor(screenWidth: number, screenHeight: number) {\n    this.screenWidth = screenWidth;\n    this.screenHeight = screenHeight;\n    this.initializeStars();\n  }\n\n  /**\n   * Initialize random star positions\n   */\n  private initializeStars(): void {\n    this.stars = Array.from({ length: NUM_STARS }).map(() => ({\n      x: Math.random() * this.screenWidth,\n      y: Math.random() * this.screenHeight,\n      r: Math.random() * 1.5 + 0.5, // radius between 0.5 and 2\n    }));\n  }\n\n  /**\n   * Update star positions\n   */\n  update(): void {\n    this.stars.forEach((star) => {\n      star.x -= STAR_SPEED;\n\n      // Wrap around when star goes off screen\n      if (star.x < 0) {\n        star.x = this.screenWidth;\n      }\n    });\n  }\n\n  /**\n   * Render stars to canvas with gradient background overlay\n   */\n  render(ctx: CanvasRenderingContext2D): void {\n    // Create gradient from bottom to top\n    const gradient = ctx.createLinearGradient(0, this.screenHeight, 0, 0);\n    gradient.addColorStop(0, BACKGROUND_OVERLAY_GRADIENT_START); // Bottom\n    gradient.addColorStop(1, BACKGROUND_OVERLAY_GRADIENT_END);   // Top\n\n    // Apply gradient overlay (semi-transparent filter over scrolling background)\n    ctx.fillStyle = gradient;\n    ctx.fillRect(0, 0, this.screenWidth, this.screenHeight);\n\n    // Draw all stars on top of overlay\n    this.stars.forEach((star) => {\n      ctx.beginPath();\n      ctx.arc(star.x, star.y, star.r, 0, Math.PI * 2);\n      ctx.fillStyle = 'white';\n      ctx.fill();\n    });\n  }\n\n  /**\n   * Reset stars to random positions\n   */\n  reset(): void {\n    this.stars.forEach((star) => {\n      star.x = Math.random() * this.screenWidth;\n    });\n  }\n\n  /**\n   * Update dimensions (for window resize)\n   */\n  updateDimensions(screenWidth: number, screenHeight: number): void {\n    this.screenWidth = screenWidth;\n    this.screenHeight = screenHeight;\n\n    // Reposition stars that are now out of bounds\n    this.stars.forEach((star) => {\n      if (star.y > screenHeight) {\n        star.y = Math.random() * screenHeight;\n      }\n      if (star.x > screenWidth) {\n        star.x = Math.random() * screenWidth;\n      }\n    });\n  }\n\n  /**\n   * Get all stars (for debugging or external rendering)\n   */\n  getStars(): Star[] {\n    return this.stars;\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}