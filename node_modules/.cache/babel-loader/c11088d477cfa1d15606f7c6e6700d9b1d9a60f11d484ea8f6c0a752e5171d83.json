{"ast":null,"code":"/**\n * useGameLoop Hook\n * Main game loop that orchestrates all game systems\n */import{useState,useRef,useEffect,useCallback}from'react';import{PlayerPhysics}from'../systems/playerPhysics';import{LaserPhysics}from'../systems/laserPhysics';import{AudioManager,setupAudioUnlock}from'../systems/audioManager';import{BackgroundStars}from'../systems/backgroundStars';import{BALL_SIZE,HITBOX_SIZE,PLAYER_X_POSITION,FLOOR_Y_POSITION,ENEMY_X_POSITION,SCORE_UPDATE_INTERVAL}from'../config/gameConfig';export const useGameLoop=()=>{// Game state\nconst[score,setScore]=useState(0);const[gameOver,setGameOver]=useState(false);const[playerState,setPlayerState]=useState({position:{x:0,y:0},velocity:0,scaleX:1,scaleY:1,hasJumped:false,isHolding:false,holdStartTime:0});const[lasers,setLasers]=useState([]);const[enemyY,setEnemyY]=useState(0);const[numLasers,setNumLasers]=useState(1);const[wasHit,setWasHit]=useState(false);// Game systems\nconst playerPhysicsRef=useRef(null);const laserPhysicsRef=useRef(null);const audioManagerRef=useRef(null);const backgroundStarsRef=useRef(null);// Score tracking\nconst scoreRef=useRef(0);// Dimensions\nconst dimensionsRef=useRef({width:window.innerWidth,height:window.innerHeight,centerY:window.innerHeight*FLOOR_Y_POSITION-HITBOX_SIZE/2,playerStartX:window.innerWidth*PLAYER_X_POSITION-BALL_SIZE/2,enemyX:window.innerWidth*ENEMY_X_POSITION-BALL_SIZE});/**\n   * Initialize game systems\n   */useEffect(()=>{const dims=dimensionsRef.current;// Initialize physics systems\nplayerPhysicsRef.current=new PlayerPhysics(dims.playerStartX,dims.centerY,dims.centerY);laserPhysicsRef.current=new LaserPhysics(dims.width,dims.height,dims.centerY,dims.enemyX);// Initialize audio\naudioManagerRef.current=new AudioManager();const cleanupAudio=setupAudioUnlock(audioManagerRef.current);// Initialize background\nbackgroundStarsRef.current=new BackgroundStars(dims.width,dims.height);// Set initial states\nsetPlayerState(playerPhysicsRef.current.getState());setLasers(laserPhysicsRef.current.getLasers());setEnemyY(laserPhysicsRef.current.getEnemyY());return()=>{var _audioManagerRef$curr;cleanupAudio();(_audioManagerRef$curr=audioManagerRef.current)===null||_audioManagerRef$curr===void 0?void 0:_audioManagerRef$curr.dispose();};},[]);/**\n   * Update score display periodically\n   */useEffect(()=>{const interval=setInterval(()=>{setScore(scoreRef.current);},SCORE_UPDATE_INTERVAL);return()=>clearInterval(interval);},[]);/**\n   * Handle window resize\n   */useEffect(()=>{const handleResize=()=>{var _playerPhysicsRef$cur,_laserPhysicsRef$curr,_backgroundStarsRef$c;const dims=dimensionsRef.current;dims.width=window.innerWidth;dims.height=window.innerHeight;dims.centerY=window.innerHeight*FLOOR_Y_POSITION-HITBOX_SIZE/2;dims.playerStartX=window.innerWidth*PLAYER_X_POSITION-BALL_SIZE/2;dims.enemyX=window.innerWidth*ENEMY_X_POSITION-BALL_SIZE;(_playerPhysicsRef$cur=playerPhysicsRef.current)===null||_playerPhysicsRef$cur===void 0?void 0:_playerPhysicsRef$cur.updateCenterY(dims.centerY);(_laserPhysicsRef$curr=laserPhysicsRef.current)===null||_laserPhysicsRef$curr===void 0?void 0:_laserPhysicsRef$curr.updateDimensions(dims.width,dims.height,dims.centerY,dims.enemyX);(_backgroundStarsRef$c=backgroundStarsRef.current)===null||_backgroundStarsRef$c===void 0?void 0:_backgroundStarsRef$c.updateDimensions(dims.width,dims.height);};window.addEventListener('resize',handleResize);return()=>window.removeEventListener('resize',handleResize);},[]);/**\n   * Main game loop\n   */useEffect(()=>{if(gameOver)return;let animationFrameId;const loop=()=>{var _backgroundStarsRef$c2,_laserPhysicsRef$curr2,_laserPhysicsRef$curr3,_playerPhysicsRef$cur2,_laserPhysicsRef$curr4,_playerPhysicsRef$cur4;// Update background\n(_backgroundStarsRef$c2=backgroundStarsRef.current)===null||_backgroundStarsRef$c2===void 0?void 0:_backgroundStarsRef$c2.update();// Update laser count based on score\n(_laserPhysicsRef$curr2=laserPhysicsRef.current)===null||_laserPhysicsRef$curr2===void 0?void 0:_laserPhysicsRef$curr2.updateLaserCount(scoreRef.current);setNumLasers(((_laserPhysicsRef$curr3=laserPhysicsRef.current)===null||_laserPhysicsRef$curr3===void 0?void 0:_laserPhysicsRef$curr3.getNumLasers())||1);// Update player physics\nconst newPlayerState=(_playerPhysicsRef$cur2=playerPhysicsRef.current)===null||_playerPhysicsRef$cur2===void 0?void 0:_playerPhysicsRef$cur2.update();if(newPlayerState){var _playerPhysicsRef$cur3;setPlayerState(newPlayerState);// Check if bounce sound should play\nif((_playerPhysicsRef$cur3=playerPhysicsRef.current)!==null&&_playerPhysicsRef$cur3!==void 0&&_playerPhysicsRef$cur3.shouldPlayBounceSound()){var _audioManagerRef$curr2;const volume=playerPhysicsRef.current.getBounceVolume();(_audioManagerRef$curr2=audioManagerRef.current)===null||_audioManagerRef$curr2===void 0?void 0:_audioManagerRef$curr2.playBounce(volume);}}// Update lasers\nconst laserUpdate=(_laserPhysicsRef$curr4=laserPhysicsRef.current)===null||_laserPhysicsRef$curr4===void 0?void 0:_laserPhysicsRef$curr4.update(scoreRef.current,(newPlayerState===null||newPlayerState===void 0?void 0:newPlayerState.position)||{x:0,y:0},((_playerPhysicsRef$cur4=playerPhysicsRef.current)===null||_playerPhysicsRef$cur4===void 0?void 0:_playerPhysicsRef$cur4.hasPlayerJumped())||false);if(laserUpdate&&laserPhysicsRef.current){// Update score\nscoreRef.current+=laserUpdate.scoreChange;// Check for hit\nif(laserUpdate.wasHit){setWasHit(true);setTimeout(()=>setWasHit(false),250);}// Update enemy position (now handled internally by LaserPhysics)\nsetEnemyY(laserPhysicsRef.current.getEnemyY());// Update laser positions\nsetLasers([...laserPhysicsRef.current.getLasers()]);}// Check game over\nif(scoreRef.current<0){setGameOver(true);return;}animationFrameId=requestAnimationFrame(loop);};animationFrameId=requestAnimationFrame(loop);return()=>{if(animationFrameId){cancelAnimationFrame(animationFrameId);}};},[gameOver]);/**\n   * Handle jump start\n   */const handleJumpStart=useCallback(()=>{var _audioManagerRef$curr3,_audioManagerRef$curr4,_playerPhysicsRef$cur5;if(gameOver)return;// Initialize audio on first interaction\n(_audioManagerRef$curr3=audioManagerRef.current)===null||_audioManagerRef$curr3===void 0?void 0:_audioManagerRef$curr3.initialize();(_audioManagerRef$curr4=audioManagerRef.current)===null||_audioManagerRef$curr4===void 0?void 0:_audioManagerRef$curr4.playBounce(1);(_playerPhysicsRef$cur5=playerPhysicsRef.current)===null||_playerPhysicsRef$cur5===void 0?void 0:_playerPhysicsRef$cur5.startJump();},[gameOver]);/**\n   * Handle jump end\n   */const handleJumpEnd=useCallback(()=>{var _playerPhysicsRef$cur6;if(gameOver)return;(_playerPhysicsRef$cur6=playerPhysicsRef.current)===null||_playerPhysicsRef$cur6===void 0?void 0:_playerPhysicsRef$cur6.endJump();},[gameOver]);/**\n   * Restart game\n   */const handleRestart=useCallback(()=>{var _playerPhysicsRef$cur7,_laserPhysicsRef$curr5,_backgroundStarsRef$c3,_playerPhysicsRef$cur8,_laserPhysicsRef$curr6,_laserPhysicsRef$curr7;const dims=dimensionsRef.current;// Reset score\nscoreRef.current=0;setScore(0);// Reset systems\n(_playerPhysicsRef$cur7=playerPhysicsRef.current)===null||_playerPhysicsRef$cur7===void 0?void 0:_playerPhysicsRef$cur7.reset(dims.playerStartX,dims.centerY);(_laserPhysicsRef$curr5=laserPhysicsRef.current)===null||_laserPhysicsRef$curr5===void 0?void 0:_laserPhysicsRef$curr5.reset();(_backgroundStarsRef$c3=backgroundStarsRef.current)===null||_backgroundStarsRef$c3===void 0?void 0:_backgroundStarsRef$c3.reset();// Reset state\nsetPlayerState(((_playerPhysicsRef$cur8=playerPhysicsRef.current)===null||_playerPhysicsRef$cur8===void 0?void 0:_playerPhysicsRef$cur8.getState())||playerState);setLasers(((_laserPhysicsRef$curr6=laserPhysicsRef.current)===null||_laserPhysicsRef$curr6===void 0?void 0:_laserPhysicsRef$curr6.getLasers())||[]);setEnemyY(((_laserPhysicsRef$curr7=laserPhysicsRef.current)===null||_laserPhysicsRef$curr7===void 0?void 0:_laserPhysicsRef$curr7.getEnemyY())||dims.centerY);setNumLasers(1);setGameOver(false);setWasHit(false);},[playerState]);return{// State\nscore,gameOver,playerState,lasers,enemyY,numLasers,wasHit,dimensions:dimensionsRef.current,// Systems\nbackgroundStars:backgroundStarsRef.current,// Handlers\nhandleJumpStart,handleJumpEnd,handleRestart};};","map":{"version":3,"names":["useState","useRef","useEffect","useCallback","PlayerPhysics","LaserPhysics","AudioManager","setupAudioUnlock","BackgroundStars","BALL_SIZE","HITBOX_SIZE","PLAYER_X_POSITION","FLOOR_Y_POSITION","ENEMY_X_POSITION","SCORE_UPDATE_INTERVAL","useGameLoop","score","setScore","gameOver","setGameOver","playerState","setPlayerState","position","x","y","velocity","scaleX","scaleY","hasJumped","isHolding","holdStartTime","lasers","setLasers","enemyY","setEnemyY","numLasers","setNumLasers","wasHit","setWasHit","playerPhysicsRef","laserPhysicsRef","audioManagerRef","backgroundStarsRef","scoreRef","dimensionsRef","width","window","innerWidth","height","innerHeight","centerY","playerStartX","enemyX","dims","current","cleanupAudio","getState","getLasers","getEnemyY","_audioManagerRef$curr","dispose","interval","setInterval","clearInterval","handleResize","_playerPhysicsRef$cur","_laserPhysicsRef$curr","_backgroundStarsRef$c","updateCenterY","updateDimensions","addEventListener","removeEventListener","animationFrameId","loop","_backgroundStarsRef$c2","_laserPhysicsRef$curr2","_laserPhysicsRef$curr3","_playerPhysicsRef$cur2","_laserPhysicsRef$curr4","_playerPhysicsRef$cur4","update","updateLaserCount","getNumLasers","newPlayerState","_playerPhysicsRef$cur3","shouldPlayBounceSound","_audioManagerRef$curr2","volume","getBounceVolume","playBounce","laserUpdate","hasPlayerJumped","scoreChange","setTimeout","requestAnimationFrame","cancelAnimationFrame","handleJumpStart","_audioManagerRef$curr3","_audioManagerRef$curr4","_playerPhysicsRef$cur5","initialize","startJump","handleJumpEnd","_playerPhysicsRef$cur6","endJump","handleRestart","_playerPhysicsRef$cur7","_laserPhysicsRef$curr5","_backgroundStarsRef$c3","_playerPhysicsRef$cur8","_laserPhysicsRef$curr6","_laserPhysicsRef$curr7","reset","dimensions","backgroundStars"],"sources":["/Users/OCSAdmin/Projects/geminiTut/my-react-app/src/hooks/useGameLoop.ts"],"sourcesContent":["/**\n * useGameLoop Hook\n * Main game loop that orchestrates all game systems\n */\n\nimport { useState, useRef, useEffect, useCallback } from 'react';\nimport { PlayerPhysics } from '../systems/playerPhysics';\nimport { LaserPhysics } from '../systems/laserPhysics';\nimport { AudioManager, setupAudioUnlock } from '../systems/audioManager';\nimport { BackgroundStars } from '../systems/backgroundStars';\nimport { PlayerState, LaserState } from '../types/game';\nimport {\n  BALL_SIZE,\n  HITBOX_SIZE,\n  PLAYER_X_POSITION,\n  FLOOR_Y_POSITION,\n  ENEMY_X_POSITION,\n  SCORE_UPDATE_INTERVAL,\n} from '../config/gameConfig';\n\nexport const useGameLoop = () => {\n  // Game state\n  const [score, setScore] = useState(0);\n  const [gameOver, setGameOver] = useState(false);\n  const [playerState, setPlayerState] = useState<PlayerState>({\n    position: { x: 0, y: 0 },\n    velocity: 0,\n    scaleX: 1,\n    scaleY: 1,\n    hasJumped: false,\n    isHolding: false,\n    holdStartTime: 0,\n  });\n  const [lasers, setLasers] = useState<LaserState[]>([]);\n  const [enemyY, setEnemyY] = useState(0);\n  const [numLasers, setNumLasers] = useState(1);\n  const [wasHit, setWasHit] = useState(false);\n\n  // Game systems\n  const playerPhysicsRef = useRef<PlayerPhysics | null>(null);\n  const laserPhysicsRef = useRef<LaserPhysics | null>(null);\n  const audioManagerRef = useRef<AudioManager | null>(null);\n  const backgroundStarsRef = useRef<BackgroundStars | null>(null);\n\n  // Score tracking\n  const scoreRef = useRef(0);\n\n  // Dimensions\n  const dimensionsRef = useRef({\n    width: window.innerWidth,\n    height: window.innerHeight,\n    centerY: window.innerHeight * FLOOR_Y_POSITION - HITBOX_SIZE / 2,\n    playerStartX: window.innerWidth * PLAYER_X_POSITION - BALL_SIZE / 2,\n    enemyX: window.innerWidth * ENEMY_X_POSITION - BALL_SIZE,\n  });\n\n  /**\n   * Initialize game systems\n   */\n  useEffect(() => {\n    const dims = dimensionsRef.current;\n\n    // Initialize physics systems\n    playerPhysicsRef.current = new PlayerPhysics(\n      dims.playerStartX,\n      dims.centerY,\n      dims.centerY\n    );\n\n    laserPhysicsRef.current = new LaserPhysics(\n      dims.width,\n      dims.height,\n      dims.centerY,\n      dims.enemyX\n    );\n\n    // Initialize audio\n    audioManagerRef.current = new AudioManager();\n    const cleanupAudio = setupAudioUnlock(audioManagerRef.current);\n\n    // Initialize background\n    backgroundStarsRef.current = new BackgroundStars(dims.width, dims.height);\n\n    // Set initial states\n    setPlayerState(playerPhysicsRef.current.getState());\n    setLasers(laserPhysicsRef.current.getLasers());\n    setEnemyY(laserPhysicsRef.current.getEnemyY());\n\n    return () => {\n      cleanupAudio();\n      audioManagerRef.current?.dispose();\n    };\n  }, []);\n\n  /**\n   * Update score display periodically\n   */\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setScore(scoreRef.current);\n    }, SCORE_UPDATE_INTERVAL);\n\n    return () => clearInterval(interval);\n  }, []);\n\n  /**\n   * Handle window resize\n   */\n  useEffect(() => {\n    const handleResize = () => {\n      const dims = dimensionsRef.current;\n      dims.width = window.innerWidth;\n      dims.height = window.innerHeight;\n      dims.centerY = window.innerHeight * FLOOR_Y_POSITION - HITBOX_SIZE / 2;\n      dims.playerStartX = window.innerWidth * PLAYER_X_POSITION - BALL_SIZE / 2;\n      dims.enemyX = window.innerWidth * ENEMY_X_POSITION - BALL_SIZE;\n\n      playerPhysicsRef.current?.updateCenterY(dims.centerY);\n      laserPhysicsRef.current?.updateDimensions(dims.width, dims.height, dims.centerY, dims.enemyX);\n      backgroundStarsRef.current?.updateDimensions(dims.width, dims.height);\n    };\n\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  /**\n   * Main game loop\n   */\n  useEffect(() => {\n    if (gameOver) return;\n\n    let animationFrameId: number;\n\n    const loop = () => {\n      // Update background\n      backgroundStarsRef.current?.update();\n\n      // Update laser count based on score\n      laserPhysicsRef.current?.updateLaserCount(scoreRef.current);\n      setNumLasers(laserPhysicsRef.current?.getNumLasers() || 1);\n\n      // Update player physics\n      const newPlayerState = playerPhysicsRef.current?.update();\n      if (newPlayerState) {\n        setPlayerState(newPlayerState);\n\n        // Check if bounce sound should play\n        if (playerPhysicsRef.current?.shouldPlayBounceSound()) {\n          const volume = playerPhysicsRef.current.getBounceVolume();\n          audioManagerRef.current?.playBounce(volume);\n        }\n      }\n\n      // Update lasers\n      const laserUpdate = laserPhysicsRef.current?.update(\n        scoreRef.current,\n        newPlayerState?.position || { x: 0, y: 0 },\n        playerPhysicsRef.current?.hasPlayerJumped() || false\n      );\n\n      if (laserUpdate && laserPhysicsRef.current) {\n        // Update score\n        scoreRef.current += laserUpdate.scoreChange;\n\n        // Check for hit\n        if (laserUpdate.wasHit) {\n          setWasHit(true);\n          setTimeout(() => setWasHit(false), 250);\n        }\n\n        // Update enemy position (now handled internally by LaserPhysics)\n        setEnemyY(laserPhysicsRef.current.getEnemyY());\n\n        // Update laser positions\n        setLasers([...laserPhysicsRef.current.getLasers()]);\n      }\n\n      // Check game over\n      if (scoreRef.current < 0) {\n        setGameOver(true);\n        return;\n      }\n\n      animationFrameId = requestAnimationFrame(loop);\n    };\n\n    animationFrameId = requestAnimationFrame(loop);\n\n    return () => {\n      if (animationFrameId) {\n        cancelAnimationFrame(animationFrameId);\n      }\n    };\n  }, [gameOver]);\n\n  /**\n   * Handle jump start\n   */\n  const handleJumpStart = useCallback(() => {\n    if (gameOver) return;\n\n    // Initialize audio on first interaction\n    audioManagerRef.current?.initialize();\n    audioManagerRef.current?.playBounce(1);\n\n    playerPhysicsRef.current?.startJump();\n  }, [gameOver]);\n\n  /**\n   * Handle jump end\n   */\n  const handleJumpEnd = useCallback(() => {\n    if (gameOver) return;\n    playerPhysicsRef.current?.endJump();\n  }, [gameOver]);\n\n  /**\n   * Restart game\n   */\n  const handleRestart = useCallback(() => {\n    const dims = dimensionsRef.current;\n\n    // Reset score\n    scoreRef.current = 0;\n    setScore(0);\n\n    // Reset systems\n    playerPhysicsRef.current?.reset(dims.playerStartX, dims.centerY);\n    laserPhysicsRef.current?.reset();\n    backgroundStarsRef.current?.reset();\n\n    // Reset state\n    setPlayerState(playerPhysicsRef.current?.getState() || playerState);\n    setLasers(laserPhysicsRef.current?.getLasers() || []);\n    setEnemyY(laserPhysicsRef.current?.getEnemyY() || dims.centerY);\n    setNumLasers(1);\n    setGameOver(false);\n    setWasHit(false);\n  }, [playerState]);\n\n  return {\n    // State\n    score,\n    gameOver,\n    playerState,\n    lasers,\n    enemyY,\n    numLasers,\n    wasHit,\n    dimensions: dimensionsRef.current,\n\n    // Systems\n    backgroundStars: backgroundStarsRef.current,\n\n    // Handlers\n    handleJumpStart,\n    handleJumpEnd,\n    handleRestart,\n  };\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}