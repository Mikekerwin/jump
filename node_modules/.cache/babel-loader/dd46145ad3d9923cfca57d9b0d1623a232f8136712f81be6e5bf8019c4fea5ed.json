{"ast":null,"code":"var _jsxFileName = \"/Users/OCSAdmin/Projects/geminiTut/my-react-app/src/App.tsx\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect, useState } from 'react';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GRAVITY = 0.7;\nconst ENERGY_LOSS = 0.7;\nconst BOOST = 18;\nconst EXTRA_BOOST = 20 / GRAVITY; // convert pixels to velocity\nconst BALL_SIZE = 80;\nconst App = () => {\n  _s();\n  const [isBouncing, setIsBouncing] = useState(false);\n  const sphereRef = useRef(null);\n  const velocityRef = useRef(0);\n  const centerRef = useRef(window.innerHeight / 2 - BALL_SIZE / 2);\n  const positionRef = useRef(centerRef.current);\n  const animationRef = useRef();\n  const boundsRef = useRef({\n    top: 0,\n    center: centerRef.current\n  });\n\n  // Update bounds on resize\n  useEffect(() => {\n    const handleResize = () => {\n      centerRef.current = window.innerHeight / 2 - BALL_SIZE / 2;\n      boundsRef.current = {\n        top: 0,\n        center: centerRef.current\n      };\n      positionRef.current = centerRef.current;\n      if (sphereRef.current) {\n        sphereRef.current.style.top = `${positionRef.current}px`;\n      }\n    };\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  // Start in middle\n  useEffect(() => {\n    if (sphereRef.current) {\n      sphereRef.current.style.top = `${positionRef.current}px`;\n    }\n  }, []);\n\n  // Bounce logic\n  const animate = () => {\n    animationRef.current = requestAnimationFrame(() => {\n      velocityRef.current -= GRAVITY;\n      positionRef.current -= velocityRef.current;\n\n      // Bounce off the top\n      if (positionRef.current < boundsRef.current.top) {\n        positionRef.current = boundsRef.current.top;\n        velocityRef.current = -velocityRef.current * ENERGY_LOSS;\n      }\n\n      // Bounce off the center (never below center)\n      if (positionRef.current > boundsRef.current.center) {\n        positionRef.current = boundsRef.current.center;\n        velocityRef.current = -velocityRef.current * ENERGY_LOSS;\n        // Stop if velocity is very low\n        if (Math.abs(velocityRef.current) < 1.5) {\n          velocityRef.current = 0;\n          setIsBouncing(false);\n          if (sphereRef.current) {\n            sphereRef.current.style.top = `${positionRef.current}px`;\n          }\n          return;\n        }\n      }\n      if (sphereRef.current) {\n        sphereRef.current.style.top = `${positionRef.current}px`;\n      }\n      animate();\n    });\n  };\n\n  // Always set velocity to BOOST (+EXTRA_BOOST per click) on click\n  const clickCountRef = useRef(0);\n  const handleSphereClick = () => {\n    clickCountRef.current += 1;\n    velocityRef.current = BOOST + EXTRA_BOOST * (clickCountRef.current - 1);\n    if (!isBouncing) {\n      setIsBouncing(true);\n      animate();\n    }\n  };\n\n  // Reset click count when bounce stops\n  useEffect(() => {\n    if (!isBouncing) {\n      clickCountRef.current = 0;\n    }\n  }, [isBouncing]);\n\n  // Cleanup animation frame\n  useEffect(() => {\n    return () => {\n      if (animationRef.current) cancelAnimationFrame(animationRef.current);\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: 'fixed',\n      inset: 0,\n      overflow: 'hidden'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: sphereRef,\n      className: \"sphere\",\n      style: {\n        position: 'absolute',\n        left: `calc(50% - ${BALL_SIZE / 2}px)`,\n        top: `${centerRef.current}px`,\n        cursor: 'pointer'\n      },\n      onClick: handleSphereClick\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 107,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"o+42FRHhAo5Uvi3dSvwCwBhlPo0=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useRef","useEffect","useState","jsxDEV","_jsxDEV","GRAVITY","ENERGY_LOSS","BOOST","EXTRA_BOOST","BALL_SIZE","App","_s","isBouncing","setIsBouncing","sphereRef","velocityRef","centerRef","window","innerHeight","positionRef","current","animationRef","boundsRef","top","center","handleResize","style","addEventListener","removeEventListener","animate","requestAnimationFrame","Math","abs","clickCountRef","handleSphereClick","cancelAnimationFrame","position","inset","overflow","children","ref","className","left","cursor","onClick","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/OCSAdmin/Projects/geminiTut/my-react-app/src/App.tsx"],"sourcesContent":["import React, { useRef, useEffect, useState } from 'react';\nimport './App.css';\n\nconst GRAVITY = 0.7;\nconst ENERGY_LOSS = 0.7;\nconst BOOST = 18;\nconst EXTRA_BOOST = 20 / GRAVITY; // convert pixels to velocity\nconst BALL_SIZE = 80;\n\nconst App: React.FC = () => {\n  const [isBouncing, setIsBouncing] = useState(false);\n  const sphereRef = useRef<HTMLDivElement>(null);\n  const velocityRef = useRef(0);\n  const centerRef = useRef(window.innerHeight / 2 - BALL_SIZE / 2);\n  const positionRef = useRef(centerRef.current);\n  const animationRef = useRef<number>();\n  const boundsRef = useRef({\n    top: 0,\n    center: centerRef.current,\n  });\n\n  // Update bounds on resize\n  useEffect(() => {\n    const handleResize = () => {\n      centerRef.current = window.innerHeight / 2 - BALL_SIZE / 2;\n      boundsRef.current = {\n        top: 0,\n        center: centerRef.current,\n      };\n      positionRef.current = centerRef.current;\n      if (sphereRef.current) {\n        sphereRef.current.style.top = `${positionRef.current}px`;\n      }\n    };\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  // Start in middle\n  useEffect(() => {\n    if (sphereRef.current) {\n      sphereRef.current.style.top = `${positionRef.current}px`;\n    }\n  }, []);\n\n  // Bounce logic\n  const animate = () => {\n    animationRef.current = requestAnimationFrame(() => {\n      velocityRef.current -= GRAVITY;\n      positionRef.current -= velocityRef.current;\n\n      // Bounce off the top\n      if (positionRef.current < boundsRef.current.top) {\n        positionRef.current = boundsRef.current.top;\n        velocityRef.current = -velocityRef.current * ENERGY_LOSS;\n      }\n\n      // Bounce off the center (never below center)\n      if (positionRef.current > boundsRef.current.center) {\n        positionRef.current = boundsRef.current.center;\n        velocityRef.current = -velocityRef.current * ENERGY_LOSS;\n        // Stop if velocity is very low\n        if (Math.abs(velocityRef.current) < 1.5) {\n          velocityRef.current = 0;\n          setIsBouncing(false);\n          if (sphereRef.current) {\n            sphereRef.current.style.top = `${positionRef.current}px`;\n          }\n          return;\n        }\n      }\n\n      if (sphereRef.current) {\n        sphereRef.current.style.top = `${positionRef.current}px`;\n      }\n\n      animate();\n    });\n  };\n\n  // Always set velocity to BOOST (+EXTRA_BOOST per click) on click\n  const clickCountRef = useRef(0);\n  const handleSphereClick = () => {\n    clickCountRef.current += 1;\n    velocityRef.current = BOOST + (EXTRA_BOOST * (clickCountRef.current - 1));\n    if (!isBouncing) {\n      setIsBouncing(true);\n      animate();\n    }\n  };\n\n  // Reset click count when bounce stops\n  useEffect(() => {\n    if (!isBouncing) {\n      clickCountRef.current = 0;\n    }\n  }, [isBouncing]);\n\n  // Cleanup animation frame\n  useEffect(() => {\n    return () => {\n      if (animationRef.current) cancelAnimationFrame(animationRef.current);\n    };\n  }, []);\n\n  return (\n    <div style={{ position: 'fixed', inset: 0, overflow: 'hidden' }}>\n      <div\n        ref={sphereRef}\n        className=\"sphere\"\n        style={{\n          position: 'absolute',\n          left: `calc(50% - ${BALL_SIZE / 2}px)`,\n          top: `${centerRef.current}px`,\n          cursor: 'pointer',\n        }}\n        onClick={handleSphereClick}\n      />\n    </div>\n  );\n};\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}