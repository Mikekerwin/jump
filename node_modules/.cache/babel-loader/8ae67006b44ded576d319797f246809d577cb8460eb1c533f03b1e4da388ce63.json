{"ast":null,"code":"var _jsxFileName = \"/Users/OCSAdmin/Projects/geminiTut/my-react-app/src/App.tsx\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect, useState } from 'react';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GRAVITY = 0.7;\nconst ENERGY_LOSS = 0.7;\nconst BOOST = 18;\nconst BALL_SIZE = 80;\nconst HITBOX_SIZE = BALL_SIZE + 20; // 10px extra on each side\n\nconst App = () => {\n  _s();\n  const [isBouncing, setIsBouncing] = useState(false);\n  const sphereRef = useRef(null);\n  const hitboxRef = useRef(null);\n  const velocityRef = useRef(0);\n  const centerRef = useRef(window.innerHeight / 2 - HITBOX_SIZE / 2);\n  const positionRef = useRef(centerRef.current);\n  const animationRef = useRef();\n  const boundsRef = useRef({\n    top: 0,\n    center: centerRef.current\n  });\n\n  // Update bounds on resize\n  useEffect(() => {\n    const handleResize = () => {\n      centerRef.current = window.innerHeight / 2 - HITBOX_SIZE / 2;\n      boundsRef.current = {\n        top: 0,\n        center: centerRef.current\n      };\n      positionRef.current = centerRef.current;\n      if (hitboxRef.current) {\n        hitboxRef.current.style.top = `${positionRef.current}px`;\n      }\n    };\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  // Start in middle\n  useEffect(() => {\n    if (hitboxRef.current) {\n      hitboxRef.current.style.top = `${positionRef.current}px`;\n    }\n  }, []);\n\n  // Bounce logic\n  const animate = () => {\n    animationRef.current = requestAnimationFrame(() => {\n      velocityRef.current -= GRAVITY;\n      positionRef.current -= velocityRef.current;\n\n      // Bounce off the top\n      if (positionRef.current < boundsRef.current.top) {\n        positionRef.current = boundsRef.current.top;\n        velocityRef.current = -velocityRef.current * ENERGY_LOSS;\n      }\n\n      // Bounce off the center (never below center)\n      if (positionRef.current > boundsRef.current.center) {\n        positionRef.current = boundsRef.current.center;\n        velocityRef.current = -velocityRef.current * ENERGY_LOSS;\n        // Stop if velocity is very low\n        if (Math.abs(velocityRef.current) < 1.5) {\n          velocityRef.current = 0;\n          setIsBouncing(false);\n          if (hitboxRef.current) {\n            hitboxRef.current.style.top = `${positionRef.current}px`;\n          }\n          return;\n        }\n      }\n      if (hitboxRef.current) {\n        hitboxRef.current.style.top = `${positionRef.current}px`;\n      }\n      animate();\n    });\n  };\n\n  // Always set velocity to BOOST on click\n  const handleHitboxClick = () => {\n    velocityRef.current = BOOST;\n    if (!isBouncing) {\n      setIsBouncing(true);\n      animate();\n    }\n  };\n\n  // Cleanup animation frame\n  useEffect(() => {\n    return () => {\n      if (animationRef.current) cancelAnimationFrame(animationRef.current);\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: 'fixed',\n      inset: 0,\n      overflow: 'hidden'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: hitboxRef,\n      className: \"hitbox\",\n      style: {\n        position: 'absolute',\n        left: `calc(50% - ${HITBOX_SIZE / 2}px)`,\n        top: `${centerRef.current}px`,\n        width: `${HITBOX_SIZE}px`,\n        height: `${HITBOX_SIZE}px`,\n        cursor: 'pointer'\n      },\n      onClick: handleHitboxClick,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: sphereRef,\n        className: \"sphere\",\n        style: {\n          position: 'absolute',\n          left: '10px',\n          top: '10px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 99,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"q4dhBIjuPqhq5a9n3wl03jZcp3A=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useRef","useEffect","useState","jsxDEV","_jsxDEV","GRAVITY","ENERGY_LOSS","BOOST","BALL_SIZE","HITBOX_SIZE","App","_s","isBouncing","setIsBouncing","sphereRef","hitboxRef","velocityRef","centerRef","window","innerHeight","positionRef","current","animationRef","boundsRef","top","center","handleResize","style","addEventListener","removeEventListener","animate","requestAnimationFrame","Math","abs","handleHitboxClick","cancelAnimationFrame","position","inset","overflow","children","ref","className","left","width","height","cursor","onClick","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/OCSAdmin/Projects/geminiTut/my-react-app/src/App.tsx"],"sourcesContent":["import React, { useRef, useEffect, useState } from 'react';\nimport './App.css';\n\nconst GRAVITY = 0.7;\nconst ENERGY_LOSS = 0.7;\nconst BOOST = 18;\nconst BALL_SIZE = 80;\nconst HITBOX_SIZE = BALL_SIZE + 20; // 10px extra on each side\n\nconst App: React.FC = () => {\n  const [isBouncing, setIsBouncing] = useState(false);\n  const sphereRef = useRef<HTMLDivElement>(null);\n  const hitboxRef = useRef<HTMLDivElement>(null);\n  const velocityRef = useRef(0);\n  const centerRef = useRef(window.innerHeight / 2 - HITBOX_SIZE / 2);\n  const positionRef = useRef(centerRef.current);\n  const animationRef = useRef<number>();\n  const boundsRef = useRef({\n    top: 0,\n    center: centerRef.current,\n  });\n\n  // Update bounds on resize\n  useEffect(() => {\n    const handleResize = () => {\n      centerRef.current = window.innerHeight / 2 - HITBOX_SIZE / 2;\n      boundsRef.current = {\n        top: 0,\n        center: centerRef.current,\n      };\n      positionRef.current = centerRef.current;\n      if (hitboxRef.current) {\n        hitboxRef.current.style.top = `${positionRef.current}px`;\n      }\n    };\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  // Start in middle\n  useEffect(() => {\n    if (hitboxRef.current) {\n      hitboxRef.current.style.top = `${positionRef.current}px`;\n    }\n  }, []);\n\n  // Bounce logic\n  const animate = () => {\n    animationRef.current = requestAnimationFrame(() => {\n      velocityRef.current -= GRAVITY;\n      positionRef.current -= velocityRef.current;\n\n      // Bounce off the top\n      if (positionRef.current < boundsRef.current.top) {\n        positionRef.current = boundsRef.current.top;\n        velocityRef.current = -velocityRef.current * ENERGY_LOSS;\n      }\n\n      // Bounce off the center (never below center)\n      if (positionRef.current > boundsRef.current.center) {\n        positionRef.current = boundsRef.current.center;\n        velocityRef.current = -velocityRef.current * ENERGY_LOSS;\n        // Stop if velocity is very low\n        if (Math.abs(velocityRef.current) < 1.5) {\n          velocityRef.current = 0;\n          setIsBouncing(false);\n          if (hitboxRef.current) {\n            hitboxRef.current.style.top = `${positionRef.current}px`;\n          }\n          return;\n        }\n      }\n\n      if (hitboxRef.current) {\n        hitboxRef.current.style.top = `${positionRef.current}px`;\n      }\n\n      animate();\n    });\n  };\n\n  // Always set velocity to BOOST on click\n  const handleHitboxClick = () => {\n    velocityRef.current = BOOST;\n    if (!isBouncing) {\n      setIsBouncing(true);\n      animate();\n    }\n  };\n\n  // Cleanup animation frame\n  useEffect(() => {\n    return () => {\n      if (animationRef.current) cancelAnimationFrame(animationRef.current);\n    };\n  }, []);\n\n  return (\n    <div style={{ position: 'fixed', inset: 0, overflow: 'hidden' }}>\n      <div\n        ref={hitboxRef}\n        className=\"hitbox\"\n        style={{\n          position: 'absolute',\n          left: `calc(50% - ${HITBOX_SIZE / 2}px)`,\n          top: `${centerRef.current}px`,\n          width: `${HITBOX_SIZE}px`,\n          height: `${HITBOX_SIZE}px`,\n          cursor: 'pointer',\n        }}\n        onClick={handleHitboxClick}\n      >\n        <div\n          ref={sphereRef}\n          className=\"sphere\"\n          style={{\n            position: 'absolute',\n            left: '10px',\n            top: '10px',\n          }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}