{"ast":null,"code":"import React,{useRef,useEffect,useState}from'react';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const BALL_SIZE=80;const HITBOX_SIZE=BALL_SIZE+20;const GRAVITY=1.2;const ENERGY_LOSS=0.7;const BOOST=24;const LASER_WIDTH=25;const LASER_HEIGHT=1;const LASER_SPEED=12;const App=()=>{const[score,setScore]=useState(0);const sphereRef=useRef(null);const laserRef=useRef(null);const centerY=useRef(window.innerHeight/2-HITBOX_SIZE/2);const spherePos=useRef({x:window.innerWidth/2-BALL_SIZE/2,y:centerY.current});const sphereVelocity=useRef(0);const laserPos=useRef({x:window.innerWidth,y:centerY.current-20});const hasJumped=useRef(false);const laserHit=useRef(false);const scored=useRef(false);const scoreRef=useRef(0);// Sync score every 200ms\nuseEffect(()=>{const interval=setInterval(()=>setScore(scoreRef.current),200);return()=>clearInterval(interval);},[]);const handleClick=()=>{sphereVelocity.current=BOOST;hasJumped.current=true;scored.current=false;};// Animation loop\nuseEffect(()=>{const loop=()=>{// Ball physics\nsphereVelocity.current-=GRAVITY;spherePos.current.y-=sphereVelocity.current;if(spherePos.current.y<0){spherePos.current.y=0;sphereVelocity.current=-sphereVelocity.current*ENERGY_LOSS;}if(spherePos.current.y>centerY.current){spherePos.current.y=centerY.current;sphereVelocity.current=-sphereVelocity.current*ENERGY_LOSS;if(Math.abs(sphereVelocity.current)<1.5){sphereVelocity.current=0;hasJumped.current=false;scored.current=false;}}// Laser physics\nlaserPos.current.x-=LASER_SPEED;// Collision detection (JS positions only)\nconst s=spherePos.current;const l=laserPos.current;if(!laserHit.current&&s.x+BALL_SIZE>l.x&&s.x<l.x+LASER_WIDTH&&s.y+BALL_SIZE>l.y&&s.y<l.y+LASER_HEIGHT){laserHit.current=true;if(sphereRef.current)sphereRef.current.style.backgroundColor='red';}// Scoring\nif(hasJumped.current&&!laserHit.current&&!scored.current&&l.x+LASER_WIDTH<s.x){scoreRef.current+=1;scored.current=true;}// Reset laser\nif(l.x+LASER_WIDTH<0){l.x=window.innerWidth;laserHit.current=false;scored.current=false;if(sphereRef.current)sphereRef.current.style.backgroundColor='#4fc3f7';}// Apply positions\nif(sphereRef.current)sphereRef.current.style.transform=\"translate3d(\".concat(s.x,\"px, \").concat(s.y,\"px, 0)\");if(laserRef.current)laserRef.current.style.transform=\"translate3d(\".concat(l.x,\"px, \").concat(l.y,\"px, 0)\");requestAnimationFrame(loop);};requestAnimationFrame(loop);},[]);// Handle resize\nuseEffect(()=>{const handleResize=()=>{centerY.current=window.innerHeight/2-HITBOX_SIZE/2;spherePos.current.y=centerY.current;laserPos.current.y=centerY.current-20;};window.addEventListener('resize',handleResize);return()=>window.removeEventListener('resize',handleResize);},[]);return/*#__PURE__*/_jsxs(\"div\",{style:{position:'fixed',inset:0,overflow:'hidden'},onClick:handleClick,children:[/*#__PURE__*/_jsxs(\"div\",{style:{position:'absolute',top:20,width:'100%',textAlign:'center',fontSize:'2rem',fontWeight:'bold'},children:[\"Score: \",score]}),/*#__PURE__*/_jsx(\"div\",{ref:sphereRef,style:{position:'absolute',width:\"\".concat(BALL_SIZE,\"px\"),height:\"\".concat(BALL_SIZE,\"px\"),borderRadius:'50%',backgroundColor:'#4fc3f7'}}),/*#__PURE__*/_jsx(\"div\",{ref:laserRef,style:{position:'absolute',width:\"\".concat(LASER_WIDTH,\"px\"),height:\"\".concat(LASER_HEIGHT,\"px\"),backgroundColor:'red',boxShadow:'0 0 10px red'}})]});};export default App;","map":{"version":3,"names":["React","useRef","useEffect","useState","jsxs","_jsxs","jsx","_jsx","BALL_SIZE","HITBOX_SIZE","GRAVITY","ENERGY_LOSS","BOOST","LASER_WIDTH","LASER_HEIGHT","LASER_SPEED","App","score","setScore","sphereRef","laserRef","centerY","window","innerHeight","spherePos","x","innerWidth","y","current","sphereVelocity","laserPos","hasJumped","laserHit","scored","scoreRef","interval","setInterval","clearInterval","handleClick","loop","Math","abs","s","l","style","backgroundColor","transform","concat","requestAnimationFrame","handleResize","addEventListener","removeEventListener","position","inset","overflow","onClick","children","top","width","textAlign","fontSize","fontWeight","ref","height","borderRadius","boxShadow"],"sources":["/Users/OCSAdmin/Projects/geminiTut/my-react-app/src/App.tsx"],"sourcesContent":["import React, { useRef, useEffect, useState } from 'react';\n\nconst BALL_SIZE = 80;\nconst HITBOX_SIZE = BALL_SIZE + 20;\nconst GRAVITY = 1.2;\nconst ENERGY_LOSS = 0.7;\nconst BOOST = 24;\nconst LASER_WIDTH = 25;\nconst LASER_HEIGHT = 1;\nconst LASER_SPEED = 12;\n\nconst App: React.FC = () => {\n  const [score, setScore] = useState(0);\n\n  const sphereRef = useRef<HTMLDivElement>(null);\n  const laserRef = useRef<HTMLDivElement>(null);\n\n  const centerY = useRef(window.innerHeight / 2 - HITBOX_SIZE / 2);\n  const spherePos = useRef({ x: window.innerWidth / 2 - BALL_SIZE / 2, y: centerY.current });\n  const sphereVelocity = useRef(0);\n  const laserPos = useRef({ x: window.innerWidth, y: centerY.current - 20 });\n\n  const hasJumped = useRef(false);\n  const laserHit = useRef(false);\n  const scored = useRef(false);\n  const scoreRef = useRef(0);\n\n  // Sync score every 200ms\n  useEffect(() => {\n    const interval = setInterval(() => setScore(scoreRef.current), 200);\n    return () => clearInterval(interval);\n  }, []);\n\n  const handleClick = () => {\n    sphereVelocity.current = BOOST;\n    hasJumped.current = true;\n    scored.current = false;\n  };\n\n  // Animation loop\n  useEffect(() => {\n    const loop = () => {\n      // Ball physics\n      sphereVelocity.current -= GRAVITY;\n      spherePos.current.y -= sphereVelocity.current;\n\n      if (spherePos.current.y < 0) {\n        spherePos.current.y = 0;\n        sphereVelocity.current = -sphereVelocity.current * ENERGY_LOSS;\n      }\n\n      if (spherePos.current.y > centerY.current) {\n        spherePos.current.y = centerY.current;\n        sphereVelocity.current = -sphereVelocity.current * ENERGY_LOSS;\n        if (Math.abs(sphereVelocity.current) < 1.5) {\n          sphereVelocity.current = 0;\n          hasJumped.current = false;\n          scored.current = false;\n        }\n      }\n\n      // Laser physics\n      laserPos.current.x -= LASER_SPEED;\n\n      // Collision detection (JS positions only)\n      const s = spherePos.current;\n      const l = laserPos.current;\n      if (\n        !laserHit.current &&\n        s.x + BALL_SIZE > l.x &&\n        s.x < l.x + LASER_WIDTH &&\n        s.y + BALL_SIZE > l.y &&\n        s.y < l.y + LASER_HEIGHT\n      ) {\n        laserHit.current = true;\n        if (sphereRef.current) sphereRef.current.style.backgroundColor = 'red';\n      }\n\n      // Scoring\n      if (hasJumped.current && !laserHit.current && !scored.current && l.x + LASER_WIDTH < s.x) {\n        scoreRef.current += 1;\n        scored.current = true;\n      }\n\n      // Reset laser\n      if (l.x + LASER_WIDTH < 0) {\n        l.x = window.innerWidth;\n        laserHit.current = false;\n        scored.current = false;\n        if (sphereRef.current) sphereRef.current.style.backgroundColor = '#4fc3f7';\n      }\n\n      // Apply positions\n      if (sphereRef.current) sphereRef.current.style.transform = `translate3d(${s.x}px, ${s.y}px, 0)`;\n      if (laserRef.current) laserRef.current.style.transform = `translate3d(${l.x}px, ${l.y}px, 0)`;\n\n      requestAnimationFrame(loop);\n    };\n    requestAnimationFrame(loop);\n  }, []);\n\n  // Handle resize\n  useEffect(() => {\n    const handleResize = () => {\n      centerY.current = window.innerHeight / 2 - HITBOX_SIZE / 2;\n      spherePos.current.y = centerY.current;\n      laserPos.current.y = centerY.current - 20;\n    };\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  return (\n    <div style={{ position: 'fixed', inset: 0, overflow: 'hidden' }} onClick={handleClick}>\n      <div style={{ position: 'absolute', top: 20, width: '100%', textAlign: 'center', fontSize: '2rem', fontWeight: 'bold' }}>\n        Score: {score}\n      </div>\n      <div\n        ref={sphereRef}\n        style={{\n          position: 'absolute',\n          width: `${BALL_SIZE}px`,\n          height: `${BALL_SIZE}px`,\n          borderRadius: '50%',\n          backgroundColor: '#4fc3f7',\n        }}\n      />\n      <div\n        ref={laserRef}\n        style={{\n          position: 'absolute',\n          width: `${LASER_WIDTH}px`,\n          height: `${LASER_HEIGHT}px`,\n          backgroundColor: 'red',\n          boxShadow: '0 0 10px red',\n        }}\n      />\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}