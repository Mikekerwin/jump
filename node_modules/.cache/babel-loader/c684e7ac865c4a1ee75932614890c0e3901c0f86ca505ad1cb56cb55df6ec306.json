{"ast":null,"code":"/**\n * Background Stars System\n * Handles starfield animation and rendering\n */\n\nimport { NUM_STARS, STAR_SPEED, BACKGROUND_OVERLAY_GRADIENT_START, BACKGROUND_OVERLAY_GRADIENT_END } from '../config/gameConfig';\nexport class BackgroundStars {\n  constructor(screenWidth, screenHeight) {\n    this.stars = [];\n    this.screenWidth = void 0;\n    this.screenHeight = void 0;\n    this.screenWidth = screenWidth;\n    this.screenHeight = screenHeight;\n    this.initializeStars();\n  }\n\n  /**\n   * Initialize random star positions\n   */\n  initializeStars() {\n    this.stars = Array.from({\n      length: NUM_STARS\n    }).map(() => ({\n      x: Math.random() * this.screenWidth,\n      y: Math.random() * this.screenHeight,\n      r: Math.random() * 1.5 + 0.5 // radius between 0.5 and 2\n    }));\n  }\n\n  /**\n   * Update star positions\n   */\n  update() {\n    this.stars.forEach(star => {\n      star.x -= STAR_SPEED;\n\n      // Wrap around when star goes off screen\n      if (star.x < 0) {\n        star.x = this.screenWidth;\n      }\n    });\n  }\n\n  /**\n   * Render stars to canvas with gradient background overlay\n   */\n  render(ctx) {\n    // Create gradient from bottom to top\n    const gradient = ctx.createLinearGradient(0, this.screenHeight, 0, 0);\n    gradient.addColorStop(0, BACKGROUND_OVERLAY_GRADIENT_START); // Bottom\n    gradient.addColorStop(1, BACKGROUND_OVERLAY_GRADIENT_END); // Top\n\n    // Apply gradient overlay (semi-transparent filter over scrolling background)\n    ctx.fillStyle = gradient;\n    ctx.fillRect(0, 0, this.screenWidth, this.screenHeight);\n\n    // Draw all stars on top of overlay\n    this.stars.forEach(star => {\n      ctx.beginPath();\n      ctx.arc(star.x, star.y, star.r, 0, Math.PI * 2);\n      ctx.fillStyle = 'white';\n      ctx.fill();\n    });\n  }\n\n  /**\n   * Reset stars to random positions\n   */\n  reset() {\n    this.stars.forEach(star => {\n      star.x = Math.random() * this.screenWidth;\n    });\n  }\n\n  /**\n   * Update dimensions (for window resize)\n   */\n  updateDimensions(screenWidth, screenHeight) {\n    this.screenWidth = screenWidth;\n    this.screenHeight = screenHeight;\n\n    // Reposition stars that are now out of bounds\n    this.stars.forEach(star => {\n      if (star.y > screenHeight) {\n        star.y = Math.random() * screenHeight;\n      }\n      if (star.x > screenWidth) {\n        star.x = Math.random() * screenWidth;\n      }\n    });\n  }\n\n  /**\n   * Get all stars (for debugging or external rendering)\n   */\n  getStars() {\n    return this.stars;\n  }\n}","map":{"version":3,"names":["NUM_STARS","STAR_SPEED","BACKGROUND_OVERLAY_GRADIENT_START","BACKGROUND_OVERLAY_GRADIENT_END","BackgroundStars","constructor","screenWidth","screenHeight","stars","initializeStars","Array","from","length","map","x","Math","random","y","r","update","forEach","star","render","ctx","gradient","createLinearGradient","addColorStop","fillStyle","fillRect","beginPath","arc","PI","fill","reset","updateDimensions","getStars"],"sources":["/Users/OCSAdmin/Projects/geminiTut/my-react-app/src/systems/backgroundStars.ts"],"sourcesContent":["/**\n * Background Stars System\n * Handles starfield animation and rendering\n */\n\nimport { Star } from '../types/game';\nimport { NUM_STARS, STAR_SPEED, BACKGROUND_OVERLAY_GRADIENT_START, BACKGROUND_OVERLAY_GRADIENT_END } from '../config/gameConfig';\n\nexport class BackgroundStars {\n  private stars: Star[] = [];\n  private screenWidth: number;\n  private screenHeight: number;\n\n  constructor(screenWidth: number, screenHeight: number) {\n    this.screenWidth = screenWidth;\n    this.screenHeight = screenHeight;\n    this.initializeStars();\n  }\n\n  /**\n   * Initialize random star positions\n   */\n  private initializeStars(): void {\n    this.stars = Array.from({ length: NUM_STARS }).map(() => ({\n      x: Math.random() * this.screenWidth,\n      y: Math.random() * this.screenHeight,\n      r: Math.random() * 1.5 + 0.5, // radius between 0.5 and 2\n    }));\n  }\n\n  /**\n   * Update star positions\n   */\n  update(): void {\n    this.stars.forEach((star) => {\n      star.x -= STAR_SPEED;\n\n      // Wrap around when star goes off screen\n      if (star.x < 0) {\n        star.x = this.screenWidth;\n      }\n    });\n  }\n\n  /**\n   * Render stars to canvas with gradient background overlay\n   */\n  render(ctx: CanvasRenderingContext2D): void {\n    // Create gradient from bottom to top\n    const gradient = ctx.createLinearGradient(0, this.screenHeight, 0, 0);\n    gradient.addColorStop(0, BACKGROUND_OVERLAY_GRADIENT_START); // Bottom\n    gradient.addColorStop(1, BACKGROUND_OVERLAY_GRADIENT_END);   // Top\n\n    // Apply gradient overlay (semi-transparent filter over scrolling background)\n    ctx.fillStyle = gradient;\n    ctx.fillRect(0, 0, this.screenWidth, this.screenHeight);\n\n    // Draw all stars on top of overlay\n    this.stars.forEach((star) => {\n      ctx.beginPath();\n      ctx.arc(star.x, star.y, star.r, 0, Math.PI * 2);\n      ctx.fillStyle = 'white';\n      ctx.fill();\n    });\n  }\n\n  /**\n   * Reset stars to random positions\n   */\n  reset(): void {\n    this.stars.forEach((star) => {\n      star.x = Math.random() * this.screenWidth;\n    });\n  }\n\n  /**\n   * Update dimensions (for window resize)\n   */\n  updateDimensions(screenWidth: number, screenHeight: number): void {\n    this.screenWidth = screenWidth;\n    this.screenHeight = screenHeight;\n\n    // Reposition stars that are now out of bounds\n    this.stars.forEach((star) => {\n      if (star.y > screenHeight) {\n        star.y = Math.random() * screenHeight;\n      }\n      if (star.x > screenWidth) {\n        star.x = Math.random() * screenWidth;\n      }\n    });\n  }\n\n  /**\n   * Get all stars (for debugging or external rendering)\n   */\n  getStars(): Star[] {\n    return this.stars;\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}