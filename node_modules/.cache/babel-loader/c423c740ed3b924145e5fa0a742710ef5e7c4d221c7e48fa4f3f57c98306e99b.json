{"ast":null,"code":"import _objectSpread from\"/Users/OCSAdmin/Projects/geminiTut/my-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";/**\n * useGameLoop Hook\n *\n * Main game loop that orchestrates all game systems\n */import{useState,useRef,useEffect,useCallback}from'react';import{PlayerPhysics}from'../systems/playerPhysics';import{LaserPhysics}from'../systems/laserPhysics';import{AudioManager,setupAudioUnlock}from'../systems/audioManager';import{BackgroundStars}from'../systems/backgroundStars';import{ScrollingBackground}from'../systems/scrollingBackground';import{BALL_SIZE,HITBOX_SIZE,PLAYER_X_POSITION,FLOOR_Y_POSITION,ENEMY_X_POSITION,SCORE_UPDATE_INTERVAL,PLAYER_PROJECTILE_SPEED,PLAYER_PROJECTILE_WIDTH,PLAYER_PROJECTILE_HEIGHT,ENEMY_WIDTH_GROWTH_PER_CYCLE,ENEMY_HEIGHT_GROWTH_PER_CYCLE,LEVEL_2_SCORE_THRESHOLD,LEVEL_3_SCORE_THRESHOLD,MAX_GROWTH_CYCLES,MAX_OUTS,HITS_PER_OUT,BACKGROUND_IMAGE_PATH}from'../config/gameConfig';export const useGameLoop=()=>{// Game state\nconst[score,setScore]=useState(0);const[gameOver,setGameOver]=useState(false);const[playerState,setPlayerState]=useState({position:{x:0,y:0},velocity:0,scaleX:1,scaleY:1,hasJumped:false,isHolding:false,holdStartTime:0});const[lasers,setLasers]=useState([]);const[enemyY,setEnemyY]=useState(0);const[enemyScale,setEnemyScale]=useState({scaleX:1,scaleY:1});const[numLasers,setNumLasers]=useState(1);const[wasHit,setWasHit]=useState(false);const[playerProjectiles,setPlayerProjectiles]=useState([]);const[hitCount,setHitCount]=useState(0);const[enemyWasHit,setEnemyWasHit]=useState(false);const[enemyGrowthLevel,setEnemyGrowthLevel]=useState(0);const enemyGrowthLevelRef=useRef(enemyGrowthLevel);const[level,setLevel]=useState(1);const[enemyHits,setEnemyHits]=useState(0);// Track enemy hits on player\nconst[playerGrowthLevel,setPlayerGrowthLevel]=useState(0);// Track player growth from enemy hits\nconst playerGrowthLevelRef=useRef(playerGrowthLevel);// Ref for immediate access in game loop\nconst[playerOuts,setPlayerOuts]=useState(0);// Track player outs (0-10)\nconst[enemyOuts,setEnemyOuts]=useState(0);// Track enemy outs (0-10)\nconst[shootGameOver,setShootGameOver]=useState(false);// Special game over when player reaches 10 outs\n// Game systems\nconst playerPhysicsRef=useRef(null);const laserPhysicsRef=useRef(null);const audioManagerRef=useRef(null);const backgroundStarsRef=useRef(null);const scrollingBackgroundRef=useRef(null);const scoreRef=useRef(0);const gameOverRef=useRef(false);// Immediate game over flag\nconst dimensionsRef=useRef({width:window.innerWidth,height:window.innerHeight,centerY:window.innerHeight*FLOOR_Y_POSITION-HITBOX_SIZE/2,playerStartX:window.innerWidth*PLAYER_X_POSITION-BALL_SIZE/2,enemyX:window.innerWidth*ENEMY_X_POSITION-BALL_SIZE});// Initialize\nuseEffect(()=>{const dims=dimensionsRef.current;playerPhysicsRef.current=new PlayerPhysics(dims.playerStartX,dims.centerY,dims.centerY);laserPhysicsRef.current=new LaserPhysics(dims.width,dims.height,dims.centerY,dims.enemyX);audioManagerRef.current=new AudioManager();const cleanupAudio=setupAudioUnlock(audioManagerRef.current);backgroundStarsRef.current=new BackgroundStars(dims.width,dims.height);scrollingBackgroundRef.current=new ScrollingBackground(BACKGROUND_IMAGE_PATH);setPlayerState(playerPhysicsRef.current.getState());setLasers(laserPhysicsRef.current.getLasers());setEnemyY(laserPhysicsRef.current.getEnemyY());return()=>{var _audioManagerRef$curr;cleanupAudio();(_audioManagerRef$curr=audioManagerRef.current)===null||_audioManagerRef$curr===void 0?void 0:_audioManagerRef$curr.dispose();};},[]);// Update score display\nuseEffect(()=>{const interval=setInterval(()=>{setScore(scoreRef.current);},SCORE_UPDATE_INTERVAL);return()=>clearInterval(interval);},[]);// Keep a ref in sync with the enemyGrowthLevel state\nuseEffect(()=>{enemyGrowthLevelRef.current=enemyGrowthLevel;},[enemyGrowthLevel]);// Handle resize\nuseEffect(()=>{const handleResize=()=>{var _playerPhysicsRef$cur,_laserPhysicsRef$curr,_backgroundStarsRef$c,_scrollingBackgroundR;const dims=dimensionsRef.current;dims.width=window.innerWidth;dims.height=window.innerHeight;dims.centerY=window.innerHeight*FLOOR_Y_POSITION-HITBOX_SIZE/2;dims.playerStartX=window.innerWidth*PLAYER_X_POSITION-BALL_SIZE/2;dims.enemyX=window.innerWidth*ENEMY_X_POSITION-BALL_SIZE;(_playerPhysicsRef$cur=playerPhysicsRef.current)===null||_playerPhysicsRef$cur===void 0?void 0:_playerPhysicsRef$cur.updateCenterY(dims.centerY);(_laserPhysicsRef$curr=laserPhysicsRef.current)===null||_laserPhysicsRef$curr===void 0?void 0:_laserPhysicsRef$curr.updateDimensions(dims.width,dims.height,dims.centerY,dims.enemyX);(_backgroundStarsRef$c=backgroundStarsRef.current)===null||_backgroundStarsRef$c===void 0?void 0:_backgroundStarsRef$c.updateDimensions(dims.width,dims.height);(_scrollingBackgroundR=scrollingBackgroundRef.current)===null||_scrollingBackgroundR===void 0?void 0:_scrollingBackgroundR.updateDimensions(dims.width,dims.height);};window.addEventListener('resize',handleResize);return()=>window.removeEventListener('resize',handleResize);},[]);// Main game loop\nuseEffect(()=>{if(gameOver)return;let animationFrameId;const loop=()=>{var _scrollingBackgroundR2,_backgroundStarsRef$c2,_laserPhysicsRef$curr2,_laserPhysicsRef$curr3,_playerPhysicsRef$cur2,_laserPhysicsRef$curr4,_playerPhysicsRef$cur4,_laserPhysicsRef$curr7,_laserPhysicsRef$curr8;// Don't update anything if game is over\nif(gameOverRef.current)return;(_scrollingBackgroundR2=scrollingBackgroundRef.current)===null||_scrollingBackgroundR2===void 0?void 0:_scrollingBackgroundR2.update();(_backgroundStarsRef$c2=backgroundStarsRef.current)===null||_backgroundStarsRef$c2===void 0?void 0:_backgroundStarsRef$c2.update();(_laserPhysicsRef$curr2=laserPhysicsRef.current)===null||_laserPhysicsRef$curr2===void 0?void 0:_laserPhysicsRef$curr2.updateLaserCount(scoreRef.current);setNumLasers(((_laserPhysicsRef$curr3=laserPhysicsRef.current)===null||_laserPhysicsRef$curr3===void 0?void 0:_laserPhysicsRef$curr3.getNumLasers())||1);const newPlayerState=(_playerPhysicsRef$cur2=playerPhysicsRef.current)===null||_playerPhysicsRef$cur2===void 0?void 0:_playerPhysicsRef$cur2.update();if(newPlayerState){var _playerPhysicsRef$cur3;// NOTE: Player growth scaling disabled to preserve bounce animation\n// const growthScale = 1 + (playerGrowthLevelRef.current * 0.25);\n// newPlayerState.scaleX = growthScale;\n// newPlayerState.scaleY = growthScale;\nsetPlayerState(newPlayerState);if((_playerPhysicsRef$cur3=playerPhysicsRef.current)!==null&&_playerPhysicsRef$cur3!==void 0&&_playerPhysicsRef$cur3.shouldPlayBounceSound()){var _audioManagerRef$curr2;const volume=playerPhysicsRef.current.getBounceVolume();(_audioManagerRef$curr2=audioManagerRef.current)===null||_audioManagerRef$curr2===void 0?void 0:_audioManagerRef$curr2.playBounce(volume);}}const laserUpdate=(_laserPhysicsRef$curr4=laserPhysicsRef.current)===null||_laserPhysicsRef$curr4===void 0?void 0:_laserPhysicsRef$curr4.update(scoreRef.current,(newPlayerState===null||newPlayerState===void 0?void 0:newPlayerState.position)||{x:0,y:0},((_playerPhysicsRef$cur4=playerPhysicsRef.current)===null||_playerPhysicsRef$cur4===void 0?void 0:_playerPhysicsRef$cur4.hasPlayerJumped())||false);if(laserUpdate&&laserPhysicsRef.current){scoreRef.current+=laserUpdate.scoreChange;if(laserUpdate.wasHit){var _audioManagerRef$curr3;setWasHit(true);(_audioManagerRef$curr3=audioManagerRef.current)===null||_audioManagerRef$curr3===void 0?void 0:_audioManagerRef$curr3.playLaserHit();setTimeout(()=>setWasHit(false),250);}// Handle enemy hits (Level 2 feature)\nif(laserUpdate.enemyHitCount>0){setEnemyHits(prev=>{const newHits=prev+laserUpdate.enemyHitCount;// Check if we hit 20 (one cycle complete)\nif(newHits>=HITS_PER_OUT){// Award an out to the enemy\nsetEnemyOuts(prevOuts=>{const newOuts=prevOuts+Math.floor(newHits/HITS_PER_OUT);// Check for \"Shoot!\" game over when enemy reaches 10 outs\nif(newOuts>=MAX_OUTS){gameOverRef.current=true;// Immediately stop game loop\nsetShootGameOver(true);setGameOver(true);}return Math.min(newOuts,MAX_OUTS);});// Player grows when enemy completes a cycle (every 20 hits)\nconst completedCycles=Math.floor(newHits/HITS_PER_OUT);setPlayerGrowthLevel(prevGrowth=>{const newGrowth=prevGrowth+completedCycles;// Cap at MAX_GROWTH_CYCLES, then reset to 0\nconst finalGrowth=newGrowth>=MAX_GROWTH_CYCLES?0:newGrowth;playerGrowthLevelRef.current=finalGrowth;// Update ref immediately\nreturn finalGrowth;});// Reset hits counter after awarding the out\nreturn newHits%HITS_PER_OUT;}return newHits;});}setEnemyY(laserPhysicsRef.current.getEnemyY());setLasers(laserPhysicsRef.current.getLasers());}// Level progression\nif(scoreRef.current>=LEVEL_3_SCORE_THRESHOLD&&level<3){setLevel(3);}else if(scoreRef.current>=LEVEL_2_SCORE_THRESHOLD&&level===1){setLevel(2);}// Handle projectiles & enemy hits\nif(scoreRef.current>=100){setPlayerProjectiles(prev=>prev.map(projectile=>{var _laserPhysicsRef$curr5;if(!projectile.active)return projectile;const newX=projectile.x+PLAYER_PROJECTILE_SPEED;const dims=dimensionsRef.current;const currentEnemyWidth=BALL_SIZE+enemyGrowthLevelRef.current*ENEMY_WIDTH_GROWTH_PER_CYCLE;const currentEnemyHeight=BALL_SIZE+enemyGrowthLevelRef.current*ENEMY_HEIGHT_GROWTH_PER_CYCLE;const enemyCurrentY=((_laserPhysicsRef$curr5=laserPhysicsRef.current)===null||_laserPhysicsRef$curr5===void 0?void 0:_laserPhysicsRef$curr5.getEnemyY())||0;const hitEnemy=newX+PLAYER_PROJECTILE_WIDTH>dims.enemyX&&newX<dims.enemyX+currentEnemyWidth&&projectile.y+PLAYER_PROJECTILE_HEIGHT>enemyCurrentY&&projectile.y<enemyCurrentY+currentEnemyHeight;if(hitEnemy){var _audioManagerRef$curr4;setHitCount(prevHit=>{const newHitCount=prevHit+1;// Check if we hit 20 (one cycle complete)\nif(newHitCount>=HITS_PER_OUT){// Award an out to the player\nsetPlayerOuts(prevOuts=>{const newOuts=prevOuts+Math.floor(newHitCount/HITS_PER_OUT);// Check for \"Shoot!\" game over\nif(newOuts>=MAX_OUTS){gameOverRef.current=true;// Immediately stop game loop\nsetShootGameOver(true);setGameOver(true);}return Math.min(newOuts,MAX_OUTS);});// Enemy grows when player completes a cycle (every 20 hits)\nconst completedCycles=Math.floor(newHitCount/HITS_PER_OUT);setEnemyGrowthLevel(prevGrowth=>{var _laserPhysicsRef$curr6;const newGrowth=prevGrowth+completedCycles;enemyGrowthLevelRef.current=newGrowth>=MAX_GROWTH_CYCLES?0:newGrowth;(_laserPhysicsRef$curr6=laserPhysicsRef.current)===null||_laserPhysicsRef$curr6===void 0?void 0:_laserPhysicsRef$curr6.setEnemyGrowthLevel(enemyGrowthLevelRef.current);// Cap at MAX_GROWTH_CYCLES, then reset to 0\nreturn enemyGrowthLevelRef.current;});// Reset hits counter after awarding the out\nreturn newHitCount%HITS_PER_OUT;}return newHitCount;});setEnemyWasHit(true);(_audioManagerRef$curr4=audioManagerRef.current)===null||_audioManagerRef$curr4===void 0?void 0:_audioManagerRef$curr4.playLaserHit();setTimeout(()=>setEnemyWasHit(false),250);return _objectSpread(_objectSpread({},projectile),{},{active:false});}if(newX>dims.width)return _objectSpread(_objectSpread({},projectile),{},{active:false});return _objectSpread(_objectSpread({},projectile),{},{x:newX});}).filter(p=>p.active));}// ✅ Pass updated growth level to physics FIRST\n(_laserPhysicsRef$curr7=laserPhysicsRef.current)===null||_laserPhysicsRef$curr7===void 0?void 0:_laserPhysicsRef$curr7.setEnemyGrowthLevel(enemyGrowthLevelRef.current);// ✅ Now get updated scale that reflects growth\nconst newScale=((_laserPhysicsRef$curr8=laserPhysicsRef.current)===null||_laserPhysicsRef$curr8===void 0?void 0:_laserPhysicsRef$curr8.getEnemyScale())||1;setEnemyScale({scaleX:newScale,scaleY:newScale});if(scoreRef.current<0){gameOverRef.current=true;// Immediately stop game loop\nsetGameOver(true);return;}animationFrameId=requestAnimationFrame(loop);};animationFrameId=requestAnimationFrame(loop);return()=>cancelAnimationFrame(animationFrameId);},[gameOver]);// Jump handlers\nconst handleJumpStart=useCallback(()=>{var _audioManagerRef$curr5,_audioManagerRef$curr6,_playerPhysicsRef$cur5;if(gameOver)return;(_audioManagerRef$curr5=audioManagerRef.current)===null||_audioManagerRef$curr5===void 0?void 0:_audioManagerRef$curr5.initialize();(_audioManagerRef$curr6=audioManagerRef.current)===null||_audioManagerRef$curr6===void 0?void 0:_audioManagerRef$curr6.playJumpSound();(_playerPhysicsRef$cur5=playerPhysicsRef.current)===null||_playerPhysicsRef$cur5===void 0?void 0:_playerPhysicsRef$cur5.startJump();},[gameOver]);const handleJumpEnd=useCallback(()=>{var _playerPhysicsRef$cur6,_audioManagerRef$curr7;if(gameOver)return;(_playerPhysicsRef$cur6=playerPhysicsRef.current)===null||_playerPhysicsRef$cur6===void 0?void 0:_playerPhysicsRef$cur6.endJump();(_audioManagerRef$curr7=audioManagerRef.current)===null||_audioManagerRef$curr7===void 0?void 0:_audioManagerRef$curr7.resetJumpSound();},[gameOver]);const handleMouseMove=useCallback(event=>{var _playerPhysicsRef$cur7;if(gameOver)return;const dims=dimensionsRef.current;(_playerPhysicsRef$cur7=playerPhysicsRef.current)===null||_playerPhysicsRef$cur7===void 0?void 0:_playerPhysicsRef$cur7.setMousePosition(event.clientX,dims.width);},[gameOver]);const handleTouchMove=useCallback(event=>{if(gameOver)return;if(event.touches.length>0){var _playerPhysicsRef$cur8;const dims=dimensionsRef.current;const touch=event.touches[0];(_playerPhysicsRef$cur8=playerPhysicsRef.current)===null||_playerPhysicsRef$cur8===void 0?void 0:_playerPhysicsRef$cur8.setMousePosition(touch.clientX,dims.width);}},[gameOver]);const handleShoot=useCallback(()=>{var _playerPhysicsRef$cur9;if(gameOver||scoreRef.current<100)return;// Shooting unlocks at score 100\nconst currentPlayerState=(_playerPhysicsRef$cur9=playerPhysicsRef.current)===null||_playerPhysicsRef$cur9===void 0?void 0:_playerPhysicsRef$cur9.getState();if(!currentPlayerState)return;const newProjectile={x:currentPlayerState.position.x+BALL_SIZE/2,y:currentPlayerState.position.y+BALL_SIZE/2-PLAYER_PROJECTILE_HEIGHT/2,active:true};setPlayerProjectiles(prev=>[...prev,newProjectile]);},[gameOver]);const handleTestScore=useCallback(()=>{var _laserPhysicsRef$curr9;scoreRef.current+=75;(_laserPhysicsRef$curr9=laserPhysicsRef.current)===null||_laserPhysicsRef$curr9===void 0?void 0:_laserPhysicsRef$curr9.setScore(scoreRef.current);},[]);const handleRestart=useCallback(()=>{var _playerPhysicsRef$cur0,_laserPhysicsRef$curr0,_backgroundStarsRef$c3,_scrollingBackgroundR3,_playerPhysicsRef$cur1,_laserPhysicsRef$curr1,_laserPhysicsRef$curr10;const dims=dimensionsRef.current;scoreRef.current=0;gameOverRef.current=false;// Reset game over flag\nsetScore(0);(_playerPhysicsRef$cur0=playerPhysicsRef.current)===null||_playerPhysicsRef$cur0===void 0?void 0:_playerPhysicsRef$cur0.reset(dims.playerStartX,dims.centerY);(_laserPhysicsRef$curr0=laserPhysicsRef.current)===null||_laserPhysicsRef$curr0===void 0?void 0:_laserPhysicsRef$curr0.reset();(_backgroundStarsRef$c3=backgroundStarsRef.current)===null||_backgroundStarsRef$c3===void 0?void 0:_backgroundStarsRef$c3.reset();(_scrollingBackgroundR3=scrollingBackgroundRef.current)===null||_scrollingBackgroundR3===void 0?void 0:_scrollingBackgroundR3.reset();setPlayerState(((_playerPhysicsRef$cur1=playerPhysicsRef.current)===null||_playerPhysicsRef$cur1===void 0?void 0:_playerPhysicsRef$cur1.getState())||playerState);setLasers(((_laserPhysicsRef$curr1=laserPhysicsRef.current)===null||_laserPhysicsRef$curr1===void 0?void 0:_laserPhysicsRef$curr1.getLasers())||[]);setEnemyY(((_laserPhysicsRef$curr10=laserPhysicsRef.current)===null||_laserPhysicsRef$curr10===void 0?void 0:_laserPhysicsRef$curr10.getEnemyY())||dims.centerY);setNumLasers(1);setGameOver(false);setWasHit(false);setEnemyWasHit(false);setPlayerProjectiles([]);setHitCount(0);setEnemyGrowthLevel(0);setEnemyHits(0);setPlayerGrowthLevel(0);playerGrowthLevelRef.current=0;// Reset ref immediately\nsetPlayerOuts(0);setEnemyOuts(0);setShootGameOver(false);setLevel(1);},[playerState]);// Test function to jump to Level 2\nconst jumpToLevel2=useCallback(()=>{scoreRef.current=100;setScore(100);setLevel(2);},[]);return{score,gameOver,hitCount,enemyWasHit,playerState,lasers,enemyY,enemyScale,numLasers,wasHit,playerProjectiles,level,enemyHits,playerOuts,enemyOuts,shootGameOver,dimensions:dimensionsRef.current,backgroundStars:backgroundStarsRef.current,scrollingBackground:scrollingBackgroundRef.current,handleJumpStart,handleJumpEnd,handleMouseMove,handleTouchMove,handleShoot,handleRestart,handleTestScore,jumpToLevel2// Test function\n};};","map":{"version":3,"names":["useState","useRef","useEffect","useCallback","PlayerPhysics","LaserPhysics","AudioManager","setupAudioUnlock","BackgroundStars","ScrollingBackground","BALL_SIZE","HITBOX_SIZE","PLAYER_X_POSITION","FLOOR_Y_POSITION","ENEMY_X_POSITION","SCORE_UPDATE_INTERVAL","PLAYER_PROJECTILE_SPEED","PLAYER_PROJECTILE_WIDTH","PLAYER_PROJECTILE_HEIGHT","ENEMY_WIDTH_GROWTH_PER_CYCLE","ENEMY_HEIGHT_GROWTH_PER_CYCLE","LEVEL_2_SCORE_THRESHOLD","LEVEL_3_SCORE_THRESHOLD","MAX_GROWTH_CYCLES","MAX_OUTS","HITS_PER_OUT","BACKGROUND_IMAGE_PATH","useGameLoop","score","setScore","gameOver","setGameOver","playerState","setPlayerState","position","x","y","velocity","scaleX","scaleY","hasJumped","isHolding","holdStartTime","lasers","setLasers","enemyY","setEnemyY","enemyScale","setEnemyScale","numLasers","setNumLasers","wasHit","setWasHit","playerProjectiles","setPlayerProjectiles","hitCount","setHitCount","enemyWasHit","setEnemyWasHit","enemyGrowthLevel","setEnemyGrowthLevel","enemyGrowthLevelRef","level","setLevel","enemyHits","setEnemyHits","playerGrowthLevel","setPlayerGrowthLevel","playerGrowthLevelRef","playerOuts","setPlayerOuts","enemyOuts","setEnemyOuts","shootGameOver","setShootGameOver","playerPhysicsRef","laserPhysicsRef","audioManagerRef","backgroundStarsRef","scrollingBackgroundRef","scoreRef","gameOverRef","dimensionsRef","width","window","innerWidth","height","innerHeight","centerY","playerStartX","enemyX","dims","current","cleanupAudio","getState","getLasers","getEnemyY","_audioManagerRef$curr","dispose","interval","setInterval","clearInterval","handleResize","_playerPhysicsRef$cur","_laserPhysicsRef$curr","_backgroundStarsRef$c","_scrollingBackgroundR","updateCenterY","updateDimensions","addEventListener","removeEventListener","animationFrameId","loop","_scrollingBackgroundR2","_backgroundStarsRef$c2","_laserPhysicsRef$curr2","_laserPhysicsRef$curr3","_playerPhysicsRef$cur2","_laserPhysicsRef$curr4","_playerPhysicsRef$cur4","_laserPhysicsRef$curr7","_laserPhysicsRef$curr8","update","updateLaserCount","getNumLasers","newPlayerState","_playerPhysicsRef$cur3","shouldPlayBounceSound","_audioManagerRef$curr2","volume","getBounceVolume","playBounce","laserUpdate","hasPlayerJumped","scoreChange","_audioManagerRef$curr3","playLaserHit","setTimeout","enemyHitCount","prev","newHits","prevOuts","newOuts","Math","floor","min","completedCycles","prevGrowth","newGrowth","finalGrowth","map","projectile","_laserPhysicsRef$curr5","active","newX","currentEnemyWidth","currentEnemyHeight","enemyCurrentY","hitEnemy","_audioManagerRef$curr4","prevHit","newHitCount","_laserPhysicsRef$curr6","_objectSpread","filter","p","newScale","getEnemyScale","requestAnimationFrame","cancelAnimationFrame","handleJumpStart","_audioManagerRef$curr5","_audioManagerRef$curr6","_playerPhysicsRef$cur5","initialize","playJumpSound","startJump","handleJumpEnd","_playerPhysicsRef$cur6","_audioManagerRef$curr7","endJump","resetJumpSound","handleMouseMove","event","_playerPhysicsRef$cur7","setMousePosition","clientX","handleTouchMove","touches","length","_playerPhysicsRef$cur8","touch","handleShoot","_playerPhysicsRef$cur9","currentPlayerState","newProjectile","handleTestScore","_laserPhysicsRef$curr9","handleRestart","_playerPhysicsRef$cur0","_laserPhysicsRef$curr0","_backgroundStarsRef$c3","_scrollingBackgroundR3","_playerPhysicsRef$cur1","_laserPhysicsRef$curr1","_laserPhysicsRef$curr10","reset","jumpToLevel2","dimensions","backgroundStars","scrollingBackground"],"sources":["/Users/OCSAdmin/Projects/geminiTut/my-react-app/src/hooks/useGameLoop.ts"],"sourcesContent":["/**\n * useGameLoop Hook\n *\n * Main game loop that orchestrates all game systems\n */\n\nimport { useState, useRef, useEffect, useCallback } from 'react';\nimport { PlayerPhysics } from '../systems/playerPhysics';\nimport { LaserPhysics } from '../systems/laserPhysics';\nimport { AudioManager, setupAudioUnlock } from '../systems/audioManager';\nimport { BackgroundStars } from '../systems/backgroundStars';\nimport { ScrollingBackground } from '../systems/scrollingBackground';\nimport { PlayerState, LaserState, PlayerProjectile } from '../types/game';\nimport {\n  BALL_SIZE,\n  HITBOX_SIZE,\n  PLAYER_X_POSITION,\n  FLOOR_Y_POSITION,\n  ENEMY_X_POSITION,\n  SCORE_UPDATE_INTERVAL,\n  PLAYER_PROJECTILE_SPEED,\n  PLAYER_PROJECTILE_WIDTH,\n  PLAYER_PROJECTILE_HEIGHT,\n  ENEMY_WIDTH_GROWTH_PER_CYCLE,\n  ENEMY_HEIGHT_GROWTH_PER_CYCLE,\n  LEVEL_2_SCORE_THRESHOLD,\n  LEVEL_3_SCORE_THRESHOLD,\n  ENEMY_HITS_FOR_GROWTH,\n  MAX_GROWTH_CYCLES,\n  MAX_OUTS,\n  HITS_PER_OUT,\n  BACKGROUND_IMAGE_PATH,\n} from '../config/gameConfig';\n\nexport const useGameLoop = () => {\n  // Game state\n  const [score, setScore] = useState(0);\n  const [gameOver, setGameOver] = useState(false);\n  const [playerState, setPlayerState] = useState<PlayerState>({\n    position: { x: 0, y: 0 },\n    velocity: 0,\n    scaleX: 1,\n    scaleY: 1,\n    hasJumped: false,\n    isHolding: false,\n    holdStartTime: 0,\n  });\n  const [lasers, setLasers] = useState<LaserState[]>([]);\n  const [enemyY, setEnemyY] = useState(0);\n  const [enemyScale, setEnemyScale] = useState({ scaleX: 1, scaleY: 1 });\n  const [numLasers, setNumLasers] = useState(1);\n  const [wasHit, setWasHit] = useState(false);\n  const [playerProjectiles, setPlayerProjectiles] = useState<PlayerProjectile[]>([]);\n  const [hitCount, setHitCount] = useState(0);\n  const [enemyWasHit, setEnemyWasHit] = useState(false);\n  const [enemyGrowthLevel, setEnemyGrowthLevel] = useState(0);\n  const enemyGrowthLevelRef = useRef(enemyGrowthLevel);\n  const [level, setLevel] = useState<1 | 2 | 3>(1);\n  const [enemyHits, setEnemyHits] = useState(0); // Track enemy hits on player\n  const [playerGrowthLevel, setPlayerGrowthLevel] = useState(0); // Track player growth from enemy hits\n  const playerGrowthLevelRef = useRef(playerGrowthLevel); // Ref for immediate access in game loop\n  const [playerOuts, setPlayerOuts] = useState(0); // Track player outs (0-10)\n  const [enemyOuts, setEnemyOuts] = useState(0); // Track enemy outs (0-10)\n  const [shootGameOver, setShootGameOver] = useState(false); // Special game over when player reaches 10 outs\n\n  // Game systems\n  const playerPhysicsRef = useRef<PlayerPhysics | null>(null);\n  const laserPhysicsRef = useRef<LaserPhysics | null>(null);\n  const audioManagerRef = useRef<AudioManager | null>(null);\n  const backgroundStarsRef = useRef<BackgroundStars | null>(null);\n  const scrollingBackgroundRef = useRef<ScrollingBackground | null>(null);\n\n  const scoreRef = useRef(0);\n  const gameOverRef = useRef(false); // Immediate game over flag\n\n  const dimensionsRef = useRef({\n    width: window.innerWidth,\n    height: window.innerHeight,\n    centerY: window.innerHeight * FLOOR_Y_POSITION - HITBOX_SIZE / 2,\n    playerStartX: window.innerWidth * PLAYER_X_POSITION - BALL_SIZE / 2,\n    enemyX: window.innerWidth * ENEMY_X_POSITION - BALL_SIZE,\n  });\n\n  // Initialize\n  useEffect(() => {\n    const dims = dimensionsRef.current;\n\n    playerPhysicsRef.current = new PlayerPhysics(\n      dims.playerStartX,\n      dims.centerY,\n      dims.centerY\n    );\n\n    laserPhysicsRef.current = new LaserPhysics(\n      dims.width,\n      dims.height,\n      dims.centerY,\n      dims.enemyX\n    );\n\n    audioManagerRef.current = new AudioManager();\n    const cleanupAudio = setupAudioUnlock(audioManagerRef.current);\n\n    backgroundStarsRef.current = new BackgroundStars(dims.width, dims.height);\n    scrollingBackgroundRef.current = new ScrollingBackground(BACKGROUND_IMAGE_PATH);\n\n    setPlayerState(playerPhysicsRef.current.getState());\n    setLasers(laserPhysicsRef.current.getLasers());\n    setEnemyY(laserPhysicsRef.current.getEnemyY());\n\n    return () => {\n      cleanupAudio();\n      audioManagerRef.current?.dispose();\n    };\n  }, []);\n\n  // Update score display\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setScore(scoreRef.current);\n    }, SCORE_UPDATE_INTERVAL);\n    return () => clearInterval(interval);\n  }, []);\n\n  // Keep a ref in sync with the enemyGrowthLevel state\n  useEffect(() => {\n    enemyGrowthLevelRef.current = enemyGrowthLevel;\n  }, [enemyGrowthLevel]);\n\n  // Handle resize\n  useEffect(() => {\n    const handleResize = () => {\n      const dims = dimensionsRef.current;\n      dims.width = window.innerWidth;\n      dims.height = window.innerHeight;\n      dims.centerY = window.innerHeight * FLOOR_Y_POSITION - HITBOX_SIZE / 2;\n      dims.playerStartX = window.innerWidth * PLAYER_X_POSITION - BALL_SIZE / 2;\n      dims.enemyX = window.innerWidth * ENEMY_X_POSITION - BALL_SIZE;\n\n      playerPhysicsRef.current?.updateCenterY(dims.centerY);\n      laserPhysicsRef.current?.updateDimensions(dims.width, dims.height, dims.centerY, dims.enemyX);\n      backgroundStarsRef.current?.updateDimensions(dims.width, dims.height);\n      scrollingBackgroundRef.current?.updateDimensions(dims.width, dims.height);\n    };\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  // Main game loop\n  useEffect(() => {\n    if (gameOver) return;\n    let animationFrameId: number;\n\n    const loop = () => {\n      // Don't update anything if game is over\n      if (gameOverRef.current) return;\n\n      scrollingBackgroundRef.current?.update();\n      backgroundStarsRef.current?.update();\n      laserPhysicsRef.current?.updateLaserCount(scoreRef.current);\n      setNumLasers(laserPhysicsRef.current?.getNumLasers() || 1);\n\n      const newPlayerState = playerPhysicsRef.current?.update();\n      if (newPlayerState) {\n        // NOTE: Player growth scaling disabled to preserve bounce animation\n        // const growthScale = 1 + (playerGrowthLevelRef.current * 0.25);\n        // newPlayerState.scaleX = growthScale;\n        // newPlayerState.scaleY = growthScale;\n\n        setPlayerState(newPlayerState);\n        if (playerPhysicsRef.current?.shouldPlayBounceSound()) {\n          const volume = playerPhysicsRef.current.getBounceVolume();\n          audioManagerRef.current?.playBounce(volume);\n        }\n      }\n\n      const laserUpdate = laserPhysicsRef.current?.update(\n        scoreRef.current,\n        newPlayerState?.position || { x: 0, y: 0 },\n        playerPhysicsRef.current?.hasPlayerJumped() || false\n      );\n\n      if (laserUpdate && laserPhysicsRef.current) {\n        scoreRef.current += laserUpdate.scoreChange;\n        if (laserUpdate.wasHit) {\n          setWasHit(true);\n          audioManagerRef.current?.playLaserHit();\n          setTimeout(() => setWasHit(false), 250);\n        }\n\n        // Handle enemy hits (Level 2 feature)\n        if (laserUpdate.enemyHitCount > 0) {\n          setEnemyHits((prev) => {\n            const newHits = prev + laserUpdate.enemyHitCount;\n\n            // Check if we hit 20 (one cycle complete)\n            if (newHits >= HITS_PER_OUT) {\n              // Award an out to the enemy\n              setEnemyOuts((prevOuts) => {\n                const newOuts = prevOuts + Math.floor(newHits / HITS_PER_OUT);\n\n                // Check for \"Shoot!\" game over when enemy reaches 10 outs\n                if (newOuts >= MAX_OUTS) {\n                  gameOverRef.current = true; // Immediately stop game loop\n                  setShootGameOver(true);\n                  setGameOver(true);\n                }\n\n                return Math.min(newOuts, MAX_OUTS);\n              });\n\n              // Player grows when enemy completes a cycle (every 20 hits)\n              const completedCycles = Math.floor(newHits / HITS_PER_OUT);\n              setPlayerGrowthLevel((prevGrowth) => {\n                const newGrowth = prevGrowth + completedCycles;\n                // Cap at MAX_GROWTH_CYCLES, then reset to 0\n                const finalGrowth = newGrowth >= MAX_GROWTH_CYCLES ? 0 : newGrowth;\n                playerGrowthLevelRef.current = finalGrowth; // Update ref immediately\n                return finalGrowth;\n              });\n\n              // Reset hits counter after awarding the out\n              return newHits % HITS_PER_OUT;\n            }\n\n            return newHits;\n          });\n        }\n\n        setEnemyY(laserPhysicsRef.current.getEnemyY());\n        setLasers(laserPhysicsRef.current.getLasers());\n      }\n\n      // Level progression\n      if (scoreRef.current >= LEVEL_3_SCORE_THRESHOLD && level < 3) {\n        setLevel(3);\n      } else if (scoreRef.current >= LEVEL_2_SCORE_THRESHOLD && level === 1) {\n        setLevel(2);\n      }\n\n      // Handle projectiles & enemy hits\n      if (scoreRef.current >= 100) {\n        setPlayerProjectiles((prev) =>\n          prev\n            .map((projectile) => {\n              if (!projectile.active) return projectile;\n\n              const newX = projectile.x + PLAYER_PROJECTILE_SPEED;\n              const dims = dimensionsRef.current;\n              const currentEnemyWidth = BALL_SIZE + (enemyGrowthLevelRef.current * ENEMY_WIDTH_GROWTH_PER_CYCLE);\n              const currentEnemyHeight = BALL_SIZE + (enemyGrowthLevelRef.current * ENEMY_HEIGHT_GROWTH_PER_CYCLE);\n              const enemyCurrentY = laserPhysicsRef.current?.getEnemyY() || 0;\n\n              const hitEnemy =\n                newX + PLAYER_PROJECTILE_WIDTH > dims.enemyX &&\n                newX < dims.enemyX + currentEnemyWidth &&\n                projectile.y + PLAYER_PROJECTILE_HEIGHT > enemyCurrentY &&\n                projectile.y < enemyCurrentY + currentEnemyHeight;\n\n              if (hitEnemy) {\n                setHitCount((prevHit) => {\n                  const newHitCount = prevHit + 1;\n\n                  // Check if we hit 20 (one cycle complete)\n                  if (newHitCount >= HITS_PER_OUT) {\n                    // Award an out to the player\n                    setPlayerOuts((prevOuts) => {\n                      const newOuts = prevOuts + Math.floor(newHitCount / HITS_PER_OUT);\n\n                      // Check for \"Shoot!\" game over\n                      if (newOuts >= MAX_OUTS) {\n                        gameOverRef.current = true; // Immediately stop game loop\n                        setShootGameOver(true);\n                        setGameOver(true);\n                      }\n\n                      return Math.min(newOuts, MAX_OUTS);\n                    });\n\n                    // Enemy grows when player completes a cycle (every 20 hits)\n                    const completedCycles = Math.floor(newHitCount / HITS_PER_OUT);\n                    setEnemyGrowthLevel((prevGrowth) => {\n                      const newGrowth = prevGrowth + completedCycles;\n                      enemyGrowthLevelRef.current = newGrowth >= MAX_GROWTH_CYCLES ? 0 : newGrowth;\n                      laserPhysicsRef.current?.setEnemyGrowthLevel(enemyGrowthLevelRef.current);\n                      // Cap at MAX_GROWTH_CYCLES, then reset to 0\n                      return enemyGrowthLevelRef.current;\n                    });\n\n                    // Reset hits counter after awarding the out\n                    return newHitCount % HITS_PER_OUT;\n                  }\n\n                  return newHitCount;\n                });\n                setEnemyWasHit(true);\n                audioManagerRef.current?.playLaserHit();\n                setTimeout(() => setEnemyWasHit(false), 250);\n                return { ...projectile, active: false };\n              }\n\n              if (newX > dims.width) return { ...projectile, active: false };\n              return { ...projectile, x: newX };\n            })\n            .filter((p) => p.active)\n        );\n      }\n\n      // ✅ Pass updated growth level to physics FIRST\n      laserPhysicsRef.current?.setEnemyGrowthLevel(enemyGrowthLevelRef.current);\n\n      // ✅ Now get updated scale that reflects growth\n      const newScale = laserPhysicsRef.current?.getEnemyScale() || 1;\n      setEnemyScale({ scaleX: newScale, scaleY: newScale });\n\n      if (scoreRef.current < 0) {\n        gameOverRef.current = true; // Immediately stop game loop\n        setGameOver(true);\n        return;\n      }\n\n      animationFrameId = requestAnimationFrame(loop);\n    };\n\n    animationFrameId = requestAnimationFrame(loop);\n    return () => cancelAnimationFrame(animationFrameId);\n  }, [gameOver]);\n\n  // Jump handlers\n  const handleJumpStart = useCallback(() => {\n    if (gameOver) return;\n    audioManagerRef.current?.initialize();\n    audioManagerRef.current?.playJumpSound();\n    playerPhysicsRef.current?.startJump();\n  }, [gameOver]);\n\n  const handleJumpEnd = useCallback(() => {\n    if (gameOver) return;\n    playerPhysicsRef.current?.endJump();\n    audioManagerRef.current?.resetJumpSound();\n  }, [gameOver]);\n\n  const handleMouseMove = useCallback((event: MouseEvent) => {\n    if (gameOver) return;\n    const dims = dimensionsRef.current;\n    playerPhysicsRef.current?.setMousePosition(event.clientX, dims.width);\n  }, [gameOver]);\n\n  const handleTouchMove = useCallback((event: TouchEvent) => {\n    if (gameOver) return;\n    if (event.touches.length > 0) {\n      const dims = dimensionsRef.current;\n      const touch = event.touches[0];\n      playerPhysicsRef.current?.setMousePosition(touch.clientX, dims.width);\n    }\n  }, [gameOver]);\n\n  const handleShoot = useCallback(() => {\n    if (gameOver || scoreRef.current < 100) return; // Shooting unlocks at score 100\n    const currentPlayerState = playerPhysicsRef.current?.getState();\n    if (!currentPlayerState) return;\n\n    const newProjectile: PlayerProjectile = {\n      x: currentPlayerState.position.x + BALL_SIZE / 2,\n      y: currentPlayerState.position.y + BALL_SIZE / 2 - PLAYER_PROJECTILE_HEIGHT / 2,\n      active: true,\n    };\n\n    setPlayerProjectiles((prev) => [...prev, newProjectile]);\n  }, [gameOver]);\n\n  const handleTestScore = useCallback(() => {\n    scoreRef.current += 75;\n    laserPhysicsRef.current?.setScore(scoreRef.current);\n  }, []);\n\n  const handleRestart = useCallback(() => {\n    const dims = dimensionsRef.current;\n    scoreRef.current = 0;\n    gameOverRef.current = false; // Reset game over flag\n    setScore(0);\n    playerPhysicsRef.current?.reset(dims.playerStartX, dims.centerY);\n    laserPhysicsRef.current?.reset();\n    backgroundStarsRef.current?.reset();\n    scrollingBackgroundRef.current?.reset();\n    setPlayerState(playerPhysicsRef.current?.getState() || playerState);\n    setLasers(laserPhysicsRef.current?.getLasers() || []);\n    setEnemyY(laserPhysicsRef.current?.getEnemyY() || dims.centerY);\n    setNumLasers(1);\n    setGameOver(false);\n    setWasHit(false);\n    setEnemyWasHit(false);\n    setPlayerProjectiles([]);\n    setHitCount(0);\n    setEnemyGrowthLevel(0);\n    setEnemyHits(0);\n    setPlayerGrowthLevel(0);\n    playerGrowthLevelRef.current = 0; // Reset ref immediately\n    setPlayerOuts(0);\n    setEnemyOuts(0);\n    setShootGameOver(false);\n    setLevel(1);\n  }, [playerState]);\n\n  // Test function to jump to Level 2\n  const jumpToLevel2 = useCallback(() => {\n    scoreRef.current = 100;\n    setScore(100);\n    setLevel(2);\n  }, []);\n\n  return {\n    score,\n    gameOver,\n    hitCount,\n    enemyWasHit,\n    playerState,\n    lasers,\n    enemyY,\n    enemyScale,\n    numLasers,\n    wasHit,\n    playerProjectiles,\n    level,\n    enemyHits,\n    playerOuts,\n    enemyOuts,\n    shootGameOver,\n    dimensions: dimensionsRef.current,\n    backgroundStars: backgroundStarsRef.current,\n    scrollingBackground: scrollingBackgroundRef.current,\n    handleJumpStart,\n    handleJumpEnd,\n    handleMouseMove,\n    handleTouchMove,\n    handleShoot,\n    handleRestart,\n    handleTestScore,\n    jumpToLevel2, // Test function\n  };\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}